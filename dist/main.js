/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _modules_dom_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./modules/dom.js */ \"./src/modules/dom.js\");\n\n\n//const newGame = new Game(\"Ivo\", \"Miri\", 10);\nconst dom = new _modules_dom_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\ndom.loadingScreen();\n\ndom.gameBtn1Player.addEventListener(\"click\", () => {\n  dom.nameInput();\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7QUFBbUM7O0FBRW5DO0FBQ0EsZ0JBQWdCLHVEQUFHOztBQUVuQjs7QUFFQTtBQUNBO0FBQ0EsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2JhdHRsZXNoaXAtLS10b3AvLi9zcmMvaW5kZXguanM/YjYzNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgRG9tIGZyb20gXCIuL21vZHVsZXMvZG9tLmpzXCI7XG5cbi8vY29uc3QgbmV3R2FtZSA9IG5ldyBHYW1lKFwiSXZvXCIsIFwiTWlyaVwiLCAxMCk7XG5jb25zdCBkb20gPSBuZXcgRG9tKCk7XG5cbmRvbS5sb2FkaW5nU2NyZWVuKCk7XG5cbmRvbS5nYW1lQnRuMVBsYXllci5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBkb20ubmFtZUlucHV0KCk7XG59KTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/index.js\n");

/***/ }),

/***/ "./src/modules/dom.js":
/*!****************************!*\
  !*** ./src/modules/dom.js ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _game_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./game.js */ \"./src/modules/game.js\");\n/* harmony import */ var _sfx_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./sfx.js */ \"./src/modules/sfx.js\");\n\n\n\nclass Dom {\n  constructor() {\n    this.game = null;\n    this.gameStart = false;\n    this.container = document.querySelector(\".container\");\n    this.header = document.querySelector(\".header\");\n    this.gameContainer = document.querySelector(\".game-container\");\n    this.gameBtn1Player = document.querySelector(\".start-game-1player\");\n    this.gameBtn2Player = document.querySelector(\".start-game-2player\");\n    this.startGame = document.querySelector(\".name-input\");\n    this.userBoard = document.querySelector(\".user-board\");\n    this.enemyBoard = document.querySelector(\".enemy-board\");\n    this.playerFleet;\n    this.enemyFleet;\n    this.audioPlayer = new _sfx_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n    this.hoverActive = false;\n\n    //objects\n    this.player;\n    this.enemy;\n  }\n\n  setGame(game) {\n    this.game = game;\n  }\n\n  //nameInput and starting game\n  nameInput() {\n    if (!this.gameStart) {\n      this.gameStart = true;\n      let div = document.createElement(\"div\");\n      div.className = \"ask-name-div\";\n\n      let title = document.createElement(\"h1\");\n      title.textContent = \"What's your name?\";\n\n      let input = document.createElement(\"input\");\n      input.className = \"name-input\";\n      input.placeholder = \"Type here...\";\n      input.addEventListener(\"keydown\", (event) => {\n        if (event.key === \"Enter\") {\n          this.initializeGame(input.value);\n          div.remove();\n          this.soundPopUp();\n          setTimeout(() => {\n            let popUp = document.querySelector(\".popUp\");\n            popUp.classList.toggle(\"activate\");\n            setTimeout(() => {\n              popUp.classList.toggle(\"activate\");\n            }, 2000);\n          }, 1000);\n        }\n      });\n\n      let container = this.gameContainer;\n      div.append(title, input);\n      container.appendChild(div);\n      input.focus();\n      setTimeout(() => {\n        div.style.transform = \"translateY(0)\";\n      }, 100);\n    }\n  }\n\n  soundPopUp() {\n    let popUp = document.createElement(\"div\");\n    popUp.className = \"popUp\";\n    popUp.textContent = \"Turn Sound On!\";\n    this.container.appendChild(popUp);\n  }\n\n  //initialize game\n  initializeGame(playerName) {\n    const newGame = new _game_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](playerName, \"Enemy\", 10);\n    this.setGame(newGame);\n\n    this.player = newGame.player;\n    this.enemy = newGame.enemy;\n    this.renderBoard(this.player, this.enemy);\n    this.playerFleet = newGame.playerFleet;\n    this.enemyFleet = newGame.enemyFleet;\n\n    this.enemy.gameboard.placeShipRandom(this.enemyFleet);\n    this.eventListenerForShipPlacing(this.playerFleet, this.player, this.enemy);\n    this.gameBtn1Player.remove();\n  }\n\n  loadingScreen() {\n    let loadingContainer = document.createElement(\"div\");\n    loadingContainer.className = \"loading-container\";\n\n    let loadingIcon = document.createElement(\"div\");\n    loadingIcon.className = \"loader\";\n\n    let loadingCover = document.createElement(\"img\");\n    loadingCover.className = \"loadingImg\";\n    loadingCover.src = \"../src/assets/code-commanders.jpeg\";\n    loadingContainer.appendChild(loadingCover);\n    loadingContainer.appendChild(loadingIcon);\n    this.gameContainer.appendChild(loadingContainer);\n    setTimeout(() => {\n      loadingCover.style.opacity = \"1\";\n    }, 100);\n    setTimeout(() => {\n      loadingIcon.style.opacity = \"1\";\n      this.audioPlayer.startingGameSound();\n    }, 1000);\n\n    setTimeout(() => {\n      loadingContainer.style.opacity = \"0\";\n      setTimeout(() => {\n        loadingContainer.remove();\n      }, 1000);\n      this.showUi();\n    }, 4000);\n  }\n\n  showUi() {\n    this.header.style.opacity = \"1\";\n    this.gameBtn1Player.style.opacity = \"1\";\n    this.gameBtn1Player.style.fontSize = \"1rem\";\n  }\n\n  //render the boards\n  renderBoard(player, enemy) {\n    this.player = player;\n    this.enemy = enemy;\n    const boardTitle = document.querySelectorAll(\".board-title\");\n    boardTitle.forEach((title) => {\n      title.style.display = \"flex\";\n    });\n\n    //display elements\n    const userDiv = document.querySelector(\".user-title-div\");\n    const enemyDiv = document.querySelector(\".enemy-title-div\");\n    const icons = document.querySelectorAll(\".icon\");\n    icons.forEach((icon) => {\n      icon.classList.add(\"activate\");\n    });\n    userDiv.classList.add(\"activate\");\n    enemyDiv.classList.add(\"activate\");\n\n    //render player board\n    const playerGameboard = document.createElement(\"div\");\n    playerGameboard.className = \"player-gameboard\";\n    let cellCounter = 0;\n\n    for (let row = 0; row < player.gameboard.size; row++) {\n      for (let col = 0; col < player.gameboard.size; col++) {\n        let cell = document.createElement(\"div\");\n        cell.classList.add(\"cell\");\n        cell.classList.add(\"user-cell\");\n        let cellId = cellCounter.toString().padStart(2, \"0\");\n        cell.setAttribute(\"id\", cellId);\n        playerGameboard.appendChild(cell);\n        player.gameboard.gameBoard[row][col].element = cell;\n        cellCounter++;\n      }\n    }\n\n    //user ship container\n    let userShipContainer = document.createElement(\"div\");\n    userShipContainer.className = \"ship-container\";\n\n    const createShipIcon = (className, src) => {\n      let ship = document.createElement(\"img\");\n      ship.src = src;\n      ship.className = className;\n      ship.classList.add(\"ship-icon\");\n      return ship;\n    };\n\n    let ship1 = createShipIcon(\"uCarrier gray\", \"../src/assets/ship-5.jpg\");\n    let ship2 = createShipIcon(\"uBattleship gray\", \"../src/assets/ship-4.jpg\");\n    let ship3 = createShipIcon(\"uCruiser gray\", \"../src/assets/ship-3.jpg\");\n    let ship4 = createShipIcon(\"uSubmarine gray\", \"../src/assets/ship-3.jpg\");\n    let ship5 = createShipIcon(\"uDestroyer gray\", \"../src/assets/ship-2.jpg\");\n\n    userShipContainer.append(ship1, ship2, ship3, ship4, ship5);\n\n    //enemy ship container\n\n    let enemyShipContainer = document.createElement(\"div\");\n    enemyShipContainer.className = \"e-ship-container\";\n    let ship_1 = createShipIcon(\"eCarrier\", \"../src/assets/ship-5.jpg\");\n    let ship_2 = createShipIcon(\"eBattleship\", \"../src/assets/ship-4.jpg\");\n    let ship_3 = createShipIcon(\"eCruiser\", \"../src/assets/ship-3.jpg\");\n    let ship_4 = createShipIcon(\"eSubmarine\", \"../src/assets/ship-3.jpg\");\n    let ship_5 = createShipIcon(\"eDestroyer\", \"../src/assets/ship-2.jpg\");\n\n    enemyShipContainer.append(ship_1, ship_2, ship_3, ship_4, ship_5);\n\n    // render enemy board\n    const enemyGameboard = document.createElement(\"div\");\n    enemyGameboard.className = \"enemy-gameboard\";\n    cellCounter = 0;\n\n    for (let row = 0; row < enemy.gameboard.size; row++) {\n      for (let col = 0; col < enemy.gameboard.size; col++) {\n        let cell = document.createElement(\"div\");\n        cell.classList.add(\"cell\");\n        cell.classList.add(\"enemy-cell\");\n        let cellId = cellCounter.toString().padStart(2, \"0\");\n        cell.setAttribute(\"id\", cellId);\n        enemyGameboard.appendChild(cell);\n        enemy.gameboard.gameBoard[row][col].element = cell;\n        cellCounter++;\n      }\n    }\n    //render ship direction button\n    const shipDirectionDiv = document.createElement(\"div\");\n    shipDirectionDiv.classList.add(\"direction-btn-div\");\n\n    this.shipDirectionBtn = document.createElement(\"button\");\n    this.shipDirectionBtn.classList.add(\"ship-direction\");\n    this.shipDirectionBtn.textContent = \"Vertical\";\n\n    this.shipDirectionBtn.addEventListener(\"click\", () => {\n      this.shipDirectionBtn.textContent =\n        this.shipDirectionBtn.textContent === \"Vertical\"\n          ? \"Horizontal\"\n          : \"Vertical\";\n      //  this.test(undefined, this.shipDirectionBtn.textContent);\n    });\n\n    shipDirectionDiv.appendChild(this.shipDirectionBtn);\n\n    // add elements to the dom\n    this.userBoard.append(playerGameboard, shipDirectionDiv, userShipContainer);\n    this.enemyBoard.append(enemyGameboard, enemyShipContainer);\n\n    // slide animation for the boards\n    this.userBoard.style.transform = \"translateX(0)\";\n    this.enemyBoard.style.transform = \"translateX(0)\";\n  }\n\n  //event listener for the ship placement\n  eventListenerForShipPlacing(fleet, player, enemy) {\n    let board = document.querySelector(\".user-board\");\n    let cells = board.querySelectorAll(\".cell\");\n    let counter = 0;\n    let shipFleet = fleet;\n    let shipDirection = document.querySelector(\".ship-direction\");\n    let ships = Array.from(document.querySelectorAll(\".gray\"));\n    this.shipHoverEffect(shipFleet[counter], true);\n\n    const shipPlacingHandler = (event) => {\n      let row = parseInt(event.target.id[0]);\n      let column = parseInt(event.target.id[1]);\n      let direction = shipDirection.textContent;\n\n      if (counter < shipFleet.length) {\n        let placementSuccessful = this.player.gameboard.placeShip(\n          shipFleet[counter],\n          row,\n          column,\n          direction\n        );\n\n        ships[counter].classList.remove(\"gray\");\n\n        if (placementSuccessful) {\n          this.audioPlayer.placeShipSound();\n          this.updateUi(enemy, player);\n          this.styleShipOnBoard(shipFleet[counter], row, column, direction);\n          counter++;\n          if (counter < 5) {\n            this.shipHoverEffect(shipFleet[counter], true);\n          }\n          if (counter === shipFleet.length) {\n            this.shipHoverEffect(0, false);\n            cells.forEach((cell) =>\n              cell.removeEventListener(\"click\", shipPlacingHandler)\n            );\n            shipDirection.remove();\n            let eShipContainer = document.querySelector(\".e-ship-container\");\n            eShipContainer.style.marginTop = \"1rem\";\n\n            this.eventListenerForPlaying(player, enemy);\n          }\n        }\n      }\n    };\n\n    cells.forEach((cell) => cell.addEventListener(\"click\", shipPlacingHandler));\n  }\n\n  shipHoverEffect(ship, activated) {\n    this.hoverActive = activated;\n    let cells = document.querySelectorAll(\".user-cell\");\n    let shipLength = ship.length;\n    let boardSize = this.game.player.gameboard.size;\n\n    cells.forEach((cell) => {\n      cell.addEventListener(\"mouseenter\", () => {\n        if (!this.hoverActive) {\n          document.querySelectorAll(\".place-ship-hover\").forEach((cell) => {\n            cell.classList.remove(\"place-ship-hover\");\n          });\n          return;\n        }\n        let direction = this.shipDirectionBtn.textContent;\n        let [row, col] = this.getRowColFromCellId(cell.id);\n\n        document.querySelectorAll(\".place-ship-hover\").forEach((cell) => {\n          cell.classList.remove(\"place-ship-hover\");\n        });\n\n        if (direction === \"Vertical\") {\n          if (row + shipLength <= boardSize) {\n            for (let i = 0; i < shipLength; i++) {\n              let coordinate = `${row + i}${col}`;\n              let shipCell = document.getElementById(coordinate);\n              if (shipCell) {\n                shipCell.classList.add(\"place-ship-hover\");\n              }\n            }\n          }\n        }\n\n        if (direction === \"Horizontal\") {\n          if (col + shipLength <= boardSize) {\n            for (let i = 0; i < shipLength; i++) {\n              let coordinate = `${row}${col + i}`;\n              let shipCell = document.getElementById(coordinate);\n              if (shipCell) {\n                shipCell.classList.add(\"place-ship-hover\");\n              }\n            }\n          }\n        }\n      });\n    });\n\n    cells.forEach((cell) => {\n      cell.addEventListener(\"mouseleave\", () => {\n        if (!this.hoverActive) {\n          return;\n        }\n        let direction = this.shipDirectionBtn.textContent;\n        let [row, col] = this.getRowColFromCellId(cell.id);\n\n        if (direction === \"Vertical\") {\n          for (let i = 0; i < shipLength; i++) {\n            let coordinate = `${row + i}${col}`;\n            let shipCell = document.getElementById(coordinate);\n            if (shipCell) {\n              shipCell.classList.remove(\"place-ship-hover\");\n            }\n          }\n        }\n\n        if (direction === \"Horizontal\") {\n          for (let i = 0; i < shipLength; i++) {\n            let coordinate = `${row}${col + i}`;\n            let shipCell = document.getElementById(coordinate);\n            if (shipCell) {\n              shipCell.classList.remove(\"place-ship-hover\");\n            }\n          }\n        }\n      });\n    });\n  }\n\n  getRowColFromCellId(cellId) {\n    const parts = cellId.split(\"\");\n    const row = parseInt(parts[0]);\n    const col = parseInt(parts[1]);\n    return [row, col];\n  }\n\n  styleShipOnBoard(ship, startRow, startColumn, direction) {\n    if (direction === \"Horizontal\") {\n      for (let i = 0; i < ship.length; i++) {\n        let cellId = `${startRow}${startColumn + i}`;\n\n        let cell = document.getElementById(cellId);\n        if (cell) {\n          cell.classList.add(\"ship-on-cell\");\n          if (i === 0) {\n            cell.classList.add(\"first-horizontal\");\n          }\n          if (i === ship.length - 1) {\n            cell.classList.add(\"last-horizontal\");\n          }\n        } else {\n        }\n      }\n    } else {\n      for (let i = 0; i < ship.length; i++) {\n        let cellId = `${startRow + i}${startColumn}`;\n        let cell = document.getElementById(cellId);\n        if (cell) {\n          cell.classList.add(\"ship-on-cell\");\n          if (i === 0) {\n            cell.classList.add(\"first-vertical\");\n          }\n          if (i === ship.length - 1) {\n            cell.classList.add(\"last-vertical\");\n          }\n        } else {\n        }\n      }\n    }\n  }\n\n  // after placing the ships the event listener for starting the game\n  eventListenerForPlaying(player, enemy) {\n    this.styleEnemyShips(this.enemyFleet);\n    let board = document.querySelector(\".enemy-board\");\n    let cells = board.querySelectorAll(\".cell\");\n    this.highlightEnemyBoard();\n\n    this.handleClick = (event) => {\n      let cell = event.target;\n      this.audioPlayer.playAttackStart();\n      if (cell.classList.contains(\"hit\")) {\n        return;\n      }\n      this.removeAllListeners(cells);\n      cell.classList.add(\"cell-attack\");\n      setTimeout(() => {\n        let row = parseInt(cell.id[1]);\n        let column = parseInt(cell.id[0]);\n        cell.classList.remove(\"cell-attack\");\n        if (player.attack(enemy, row, column) === true) {\n          this.addAllListeners(cells, this.handleClick);\n          this.audioPlayer.playAttackHit();\n          cell.classList.add(\"hit\");\n          this.updateUi(enemy, player);\n          this.checkShipIcons();\n          if (this.game.checkGameOver() === \"enemyGameOver\") {\n            this.removeAllListeners(cells);\n            this.showWinner(player);\n            return;\n          }\n          return;\n        }\n        this.audioPlayer.waterSplashSound();\n        cell.classList.add(\"hit\");\n        this.updateUi(enemy, player);\n        this.checkShipIcons();\n\n        this.unhighlightEnemyBoard();\n        this.highlightPlayerBoard();\n        this.removeAllListeners(cells);\n\n        setTimeout(() => {\n          this.enemyAttackSequence(enemy, player, cells);\n        }, 2500);\n      }, 1700);\n    };\n    this.highlightEnemyBoard();\n    this.addAllListeners(cells, this.handleClick);\n  }\n\n  enemyAttackSequence(enemy, player, cells) {\n    this.highlightPlayerBoard();\n    this.audioPlayer.playAttackStart();\n    setTimeout(() => {\n      if (enemy.attackRandom(player) === true) {\n        this.audioPlayer.playAttackHit();\n        this.updateUi(enemy, player);\n        this.checkShipIcons();\n\n        if (this.game.checkGameOver() === \"playerGameOver\") {\n          this.removeAllListeners(cells);\n          this.showWinner(enemy);\n        } else {\n          setTimeout(() => {\n            this.enemyAttackSequence(enemy, player, cells);\n          }, 2500);\n        }\n      } else {\n        this.audioPlayer.waterSplashSound();\n        this.updateUi(enemy, player);\n        this.unhighlightPlayerBoard();\n        this.highlightEnemyBoard();\n        this.addAllListeners(cells, this.handleClick);\n      }\n      this.unhighlightPlayerBoard;\n    }, 1500);\n  }\n\n  removeAllListeners(cells) {\n    cells.forEach((cell) =>\n      cell.removeEventListener(\"click\", this.handleClick)\n    );\n  }\n\n  addAllListeners(cells, handleClick) {\n    cells.forEach((cell) => {\n      if (!cell.classList.contains(\"hit\")) {\n        cell.addEventListener(\"click\", handleClick);\n      }\n    });\n  }\n\n  styleEnemyShips(enemyFleet) {\n    //vertical ship start and end styling\n    for (let i = 0; i < enemyFleet.length; i++) {\n      if (enemyFleet[i].direction === \"Vertical\") {\n        let startCoordinates = `${enemyFleet[i].start[0].row}${enemyFleet[i].start[0].column}`;\n        let escapedId = `\\\\3${startCoordinates.charAt(\n          0\n        )} ${startCoordinates.slice(1)}`;\n        let targetStartCell = this.enemyBoard.querySelector(`#${escapedId}`);\n        targetStartCell.classList.add(\"first-vertical\");\n\n        let endCoordinates = `${enemyFleet[i].end[0].row}${enemyFleet[i].end[0].column}`;\n        let escId = `\\\\3${endCoordinates.charAt(0)} ${endCoordinates.slice(1)}`;\n        let targetEndCell = this.enemyBoard.querySelector(`#${escId}`);\n        targetEndCell.classList.add(\"last-vertical\");\n      } else {\n        //horizontal ship start and end styling\n        let startCoordinates2 = `${enemyFleet[i].start[0].row}${enemyFleet[i].start[0].column}`;\n        let escapedId2 = `\\\\3${startCoordinates2.charAt(\n          0\n        )} ${startCoordinates2.slice(1)}`;\n        let targetStartCell2 = this.enemyBoard.querySelector(`#${escapedId2}`);\n        targetStartCell2.classList.add(\"first-horizontal\");\n\n        let endCoordinates2 = `${enemyFleet[i].end[0].row}${enemyFleet[i].end[0].column}`;\n        let escId2 = `\\\\3${endCoordinates2.charAt(0)} ${endCoordinates2.slice(\n          1\n        )}`;\n        let targetEndCell2 = this.enemyBoard.querySelector(`#${escId2}`);\n        targetEndCell2.classList.add(\"last-horizontal\");\n      }\n    }\n  }\n\n  //function for UI updates\n  updateUi(enemy, player) {\n    let enemyBoard = enemy.gameboard.gameBoard;\n    let playerBoard = player.gameboard.gameBoard;\n\n    enemyBoard.forEach((row) => {\n      row.forEach((cell) => {\n        if (cell.ship && cell.ship.destroyed) {\n          cell.element.classList.add(\"destroyed\");\n        } else if (cell.ship && !cell.hasBeenShot) {\n          // cell.element.classList.add(\"ship-on-cell\");\n        } else if (!cell.ship && cell.hasBeenShot) {\n          cell.element.classList.add(\"cell-shot\");\n        } else if (cell.ship && cell.hasBeenShot) {\n          cell.element.classList.add(\"ship-shot\");\n          cell.element.classList.add(\"pulsing\");\n        }\n      });\n    });\n\n    playerBoard.forEach((row) => {\n      row.forEach((cell) => {\n        if (cell.ship && cell.ship.destroyed) {\n          cell.element.classList.add(\"destroyed\");\n        } else if (cell.ship && !cell.hasBeenShot) {\n          cell.element.classList.add(\"ship-on-cell\");\n        } else if (!cell.ship && cell.hasBeenShot) {\n          cell.element.classList.add(\"cell-shot\");\n        } else if (cell.ship && cell.hasBeenShot) {\n          cell.element.classList.add(\"ship-shot\");\n          cell.element.classList.add(\"pulsing\");\n        }\n      });\n    });\n  }\n\n  checkShipIcons() {\n    let playerFleetContainer = document.querySelector(\".ship-container\");\n    let enemyFleetContainer = document.querySelector(\".e-ship-container\");\n    let playerFleet = Array.from(\n      playerFleetContainer.querySelectorAll(\".ship-icon\")\n    );\n    let enemyFleet = Array.from(\n      enemyFleetContainer.querySelectorAll(\".ship-icon\")\n    );\n\n    for (let i = 0; i < enemyFleet.length; i++) {\n      if (this.enemyFleet[i].destroyed) {\n        if (!enemyFleet[i].classList.contains(\"icon-sunk\")) {\n          enemyFleet[i].classList.add(\"icon-sunk\");\n        }\n      }\n    }\n\n    for (let i = 0; i < playerFleet.length; i++) {\n      if (this.playerFleet[i].destroyed) {\n        if (!playerFleet[i].classList.contains(\"icon-sunk\")) {\n          playerFleet[i].classList.add(\"icon-sunk\");\n        }\n      }\n    }\n  }\n\n  highlightPlayerBoard() {\n    let playerBoardHighlight = document.querySelector(\".player-gameboard\");\n    playerBoardHighlight.classList.add(\"current-player\");\n  }\n\n  unhighlightPlayerBoard() {\n    let playerBoardHighlight = document.querySelector(\".player-gameboard\");\n    playerBoardHighlight.classList.remove(\"current-player\");\n  }\n\n  highlightEnemyBoard() {\n    let enemyBoardHighlight = document.querySelector(\".enemy-gameboard\");\n    enemyBoardHighlight.classList.add(\"current-player\");\n  }\n\n  unhighlightEnemyBoard() {\n    let enemyBoardHighlight = document.querySelector(\".enemy-gameboard\");\n    enemyBoardHighlight.classList.remove(\"current-player\");\n  }\n\n  floatingIcons() {\n    let ship1 = document.createElement(\"img\");\n    ship1.src = \"../src/assets/ship-5.jpg\";\n    ship1.className = \"ship1\";\n    this.container.appendChild(ship1);\n    let gameBoard = document.querySelector(\".player-gameboard\");\n    gameBoard.addEventListener(\"mouseover\", (e) => {\n      ship1.style.left = e.pageX + `px`;\n      ship1.style.top = e.pageY + `px`;\n      ship1.style.display = \"block\";\n      ship1.style.position = \"absolute\";\n    });\n  }\n\n  showWinner(winner) {\n    let winnerName = winner.name;\n    let container = document.createElement(\"div\");\n    container.className = \"winner-container\";\n\n    let winnerText = document.createElement(\"h1\");\n    winnerText.className = \"winner-text\";\n    winnerText.textContent = `The Winner is ${winnerName} !`;\n\n    let blurryBackground = document.createElement(\"div\");\n    blurryBackground.className = \"blurry-div\";\n\n    let newGameBtn = document.createElement(\"button\");\n    newGameBtn.textContent = \"NEW GAME\";\n    newGameBtn.className = \"new-game-btn\";\n    newGameBtn.addEventListener(\"click\", () => {\n      this.startNewGame();\n    });\n\n    let playAgainButton = document.createElement(\"button\");\n    playAgainButton.className = \"play-again-btn\";\n    playAgainButton.textContent = \"PLAY AGAIN\";\n    playAgainButton.addEventListener(\"click\", () => {\n      this.playAgain();\n    });\n\n    container.append(winnerText, newGameBtn, playAgainButton);\n\n    this.container.appendChild(container);\n    this.gameContainer.classList.add(\"blurr\");\n  }\n\n  playAgain() {\n    let winnerContainer = document.querySelector(\".winner-container\");\n    if (winnerContainer) winnerContainer.remove();\n    this.gameContainer.classList.remove(\"blurr\");\n\n    this.gameStart = false;\n    this.clearBoards();\n    this.initializeGame(this.player.name);\n  }\n\n  startNewGame() {\n    let winnerContainer = document.querySelector(\".winner-container\");\n    if (winnerContainer) winnerContainer.remove();\n    this.gameContainer.classList.remove(\"blurr\");\n    this.gameStart = false;\n    this.clearBoards();\n    this.nameInput();\n  }\n\n  clearBoards() {\n    let enemyBoard = document.querySelector(\".enemy-gameboard\");\n    let playerBoard = document.querySelector(\".player-gameboard\");\n    let eShipContainer = document.querySelector(\".e-ship-container\");\n    let shipContainer = document.querySelector(\".ship-container\");\n    let titles = document.querySelectorAll(\".activate\");\n    titles.forEach((div) => {\n      div.classList.remove(\"activate\");\n    });\n\n    enemyBoard.remove();\n    playerBoard.remove();\n    eShipContainer.remove();\n    shipContainer.remove();\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Dom);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsOENBQThDLFlBQVk7O0FBRTFEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGlFQUFlLEdBQUcsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2JhdHRsZXNoaXAtLS10b3AvLi9zcmMvbW9kdWxlcy9kb20uanM/MWMwZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgR2FtZSBmcm9tIFwiLi9nYW1lLmpzXCI7XG5pbXBvcnQgQXVkaW9QbGF5ZXIgZnJvbSBcIi4vc2Z4LmpzXCI7XG5cbmNsYXNzIERvbSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuZ2FtZSA9IG51bGw7XG4gICAgdGhpcy5nYW1lU3RhcnQgPSBmYWxzZTtcbiAgICB0aGlzLmNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY29udGFpbmVyXCIpO1xuICAgIHRoaXMuaGVhZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5oZWFkZXJcIik7XG4gICAgdGhpcy5nYW1lQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5nYW1lLWNvbnRhaW5lclwiKTtcbiAgICB0aGlzLmdhbWVCdG4xUGxheWVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zdGFydC1nYW1lLTFwbGF5ZXJcIik7XG4gICAgdGhpcy5nYW1lQnRuMlBsYXllciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc3RhcnQtZ2FtZS0ycGxheWVyXCIpO1xuICAgIHRoaXMuc3RhcnRHYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5uYW1lLWlucHV0XCIpO1xuICAgIHRoaXMudXNlckJvYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi51c2VyLWJvYXJkXCIpO1xuICAgIHRoaXMuZW5lbXlCb2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZW5lbXktYm9hcmRcIik7XG4gICAgdGhpcy5wbGF5ZXJGbGVldDtcbiAgICB0aGlzLmVuZW15RmxlZXQ7XG4gICAgdGhpcy5hdWRpb1BsYXllciA9IG5ldyBBdWRpb1BsYXllcigpO1xuICAgIHRoaXMuaG92ZXJBY3RpdmUgPSBmYWxzZTtcblxuICAgIC8vb2JqZWN0c1xuICAgIHRoaXMucGxheWVyO1xuICAgIHRoaXMuZW5lbXk7XG4gIH1cblxuICBzZXRHYW1lKGdhbWUpIHtcbiAgICB0aGlzLmdhbWUgPSBnYW1lO1xuICB9XG5cbiAgLy9uYW1lSW5wdXQgYW5kIHN0YXJ0aW5nIGdhbWVcbiAgbmFtZUlucHV0KCkge1xuICAgIGlmICghdGhpcy5nYW1lU3RhcnQpIHtcbiAgICAgIHRoaXMuZ2FtZVN0YXJ0ID0gdHJ1ZTtcbiAgICAgIGxldCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgZGl2LmNsYXNzTmFtZSA9IFwiYXNrLW5hbWUtZGl2XCI7XG5cbiAgICAgIGxldCB0aXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoMVwiKTtcbiAgICAgIHRpdGxlLnRleHRDb250ZW50ID0gXCJXaGF0J3MgeW91ciBuYW1lP1wiO1xuXG4gICAgICBsZXQgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gICAgICBpbnB1dC5jbGFzc05hbWUgPSBcIm5hbWUtaW5wdXRcIjtcbiAgICAgIGlucHV0LnBsYWNlaG9sZGVyID0gXCJUeXBlIGhlcmUuLi5cIjtcbiAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIChldmVudCkgPT4ge1xuICAgICAgICBpZiAoZXZlbnQua2V5ID09PSBcIkVudGVyXCIpIHtcbiAgICAgICAgICB0aGlzLmluaXRpYWxpemVHYW1lKGlucHV0LnZhbHVlKTtcbiAgICAgICAgICBkaXYucmVtb3ZlKCk7XG4gICAgICAgICAgdGhpcy5zb3VuZFBvcFVwKCk7XG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBsZXQgcG9wVXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcFVwXCIpO1xuICAgICAgICAgICAgcG9wVXAuY2xhc3NMaXN0LnRvZ2dsZShcImFjdGl2YXRlXCIpO1xuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgIHBvcFVwLmNsYXNzTGlzdC50b2dnbGUoXCJhY3RpdmF0ZVwiKTtcbiAgICAgICAgICAgIH0sIDIwMDApO1xuICAgICAgICAgIH0sIDEwMDApO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgbGV0IGNvbnRhaW5lciA9IHRoaXMuZ2FtZUNvbnRhaW5lcjtcbiAgICAgIGRpdi5hcHBlbmQodGl0bGUsIGlucHV0KTtcbiAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChkaXYpO1xuICAgICAgaW5wdXQuZm9jdXMoKTtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBkaXYuc3R5bGUudHJhbnNmb3JtID0gXCJ0cmFuc2xhdGVZKDApXCI7XG4gICAgICB9LCAxMDApO1xuICAgIH1cbiAgfVxuXG4gIHNvdW5kUG9wVXAoKSB7XG4gICAgbGV0IHBvcFVwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBwb3BVcC5jbGFzc05hbWUgPSBcInBvcFVwXCI7XG4gICAgcG9wVXAudGV4dENvbnRlbnQgPSBcIlR1cm4gU291bmQgT24hXCI7XG4gICAgdGhpcy5jb250YWluZXIuYXBwZW5kQ2hpbGQocG9wVXApO1xuICB9XG5cbiAgLy9pbml0aWFsaXplIGdhbWVcbiAgaW5pdGlhbGl6ZUdhbWUocGxheWVyTmFtZSkge1xuICAgIGNvbnN0IG5ld0dhbWUgPSBuZXcgR2FtZShwbGF5ZXJOYW1lLCBcIkVuZW15XCIsIDEwKTtcbiAgICB0aGlzLnNldEdhbWUobmV3R2FtZSk7XG5cbiAgICB0aGlzLnBsYXllciA9IG5ld0dhbWUucGxheWVyO1xuICAgIHRoaXMuZW5lbXkgPSBuZXdHYW1lLmVuZW15O1xuICAgIHRoaXMucmVuZGVyQm9hcmQodGhpcy5wbGF5ZXIsIHRoaXMuZW5lbXkpO1xuICAgIHRoaXMucGxheWVyRmxlZXQgPSBuZXdHYW1lLnBsYXllckZsZWV0O1xuICAgIHRoaXMuZW5lbXlGbGVldCA9IG5ld0dhbWUuZW5lbXlGbGVldDtcblxuICAgIHRoaXMuZW5lbXkuZ2FtZWJvYXJkLnBsYWNlU2hpcFJhbmRvbSh0aGlzLmVuZW15RmxlZXQpO1xuICAgIHRoaXMuZXZlbnRMaXN0ZW5lckZvclNoaXBQbGFjaW5nKHRoaXMucGxheWVyRmxlZXQsIHRoaXMucGxheWVyLCB0aGlzLmVuZW15KTtcbiAgICB0aGlzLmdhbWVCdG4xUGxheWVyLnJlbW92ZSgpO1xuICB9XG5cbiAgbG9hZGluZ1NjcmVlbigpIHtcbiAgICBsZXQgbG9hZGluZ0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgbG9hZGluZ0NvbnRhaW5lci5jbGFzc05hbWUgPSBcImxvYWRpbmctY29udGFpbmVyXCI7XG5cbiAgICBsZXQgbG9hZGluZ0ljb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGxvYWRpbmdJY29uLmNsYXNzTmFtZSA9IFwibG9hZGVyXCI7XG5cbiAgICBsZXQgbG9hZGluZ0NvdmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcbiAgICBsb2FkaW5nQ292ZXIuY2xhc3NOYW1lID0gXCJsb2FkaW5nSW1nXCI7XG4gICAgbG9hZGluZ0NvdmVyLnNyYyA9IFwiLi4vc3JjL2Fzc2V0cy9jb2RlLWNvbW1hbmRlcnMuanBlZ1wiO1xuICAgIGxvYWRpbmdDb250YWluZXIuYXBwZW5kQ2hpbGQobG9hZGluZ0NvdmVyKTtcbiAgICBsb2FkaW5nQ29udGFpbmVyLmFwcGVuZENoaWxkKGxvYWRpbmdJY29uKTtcbiAgICB0aGlzLmdhbWVDb250YWluZXIuYXBwZW5kQ2hpbGQobG9hZGluZ0NvbnRhaW5lcik7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBsb2FkaW5nQ292ZXIuc3R5bGUub3BhY2l0eSA9IFwiMVwiO1xuICAgIH0sIDEwMCk7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBsb2FkaW5nSWNvbi5zdHlsZS5vcGFjaXR5ID0gXCIxXCI7XG4gICAgICB0aGlzLmF1ZGlvUGxheWVyLnN0YXJ0aW5nR2FtZVNvdW5kKCk7XG4gICAgfSwgMTAwMCk7XG5cbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGxvYWRpbmdDb250YWluZXIuc3R5bGUub3BhY2l0eSA9IFwiMFwiO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGxvYWRpbmdDb250YWluZXIucmVtb3ZlKCk7XG4gICAgICB9LCAxMDAwKTtcbiAgICAgIHRoaXMuc2hvd1VpKCk7XG4gICAgfSwgNDAwMCk7XG4gIH1cblxuICBzaG93VWkoKSB7XG4gICAgdGhpcy5oZWFkZXIuc3R5bGUub3BhY2l0eSA9IFwiMVwiO1xuICAgIHRoaXMuZ2FtZUJ0bjFQbGF5ZXIuc3R5bGUub3BhY2l0eSA9IFwiMVwiO1xuICAgIHRoaXMuZ2FtZUJ0bjFQbGF5ZXIuc3R5bGUuZm9udFNpemUgPSBcIjFyZW1cIjtcbiAgfVxuXG4gIC8vcmVuZGVyIHRoZSBib2FyZHNcbiAgcmVuZGVyQm9hcmQocGxheWVyLCBlbmVteSkge1xuICAgIHRoaXMucGxheWVyID0gcGxheWVyO1xuICAgIHRoaXMuZW5lbXkgPSBlbmVteTtcbiAgICBjb25zdCBib2FyZFRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5ib2FyZC10aXRsZVwiKTtcbiAgICBib2FyZFRpdGxlLmZvckVhY2goKHRpdGxlKSA9PiB7XG4gICAgICB0aXRsZS5zdHlsZS5kaXNwbGF5ID0gXCJmbGV4XCI7XG4gICAgfSk7XG5cbiAgICAvL2Rpc3BsYXkgZWxlbWVudHNcbiAgICBjb25zdCB1c2VyRGl2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi51c2VyLXRpdGxlLWRpdlwiKTtcbiAgICBjb25zdCBlbmVteURpdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZW5lbXktdGl0bGUtZGl2XCIpO1xuICAgIGNvbnN0IGljb25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5pY29uXCIpO1xuICAgIGljb25zLmZvckVhY2goKGljb24pID0+IHtcbiAgICAgIGljb24uY2xhc3NMaXN0LmFkZChcImFjdGl2YXRlXCIpO1xuICAgIH0pO1xuICAgIHVzZXJEaXYuY2xhc3NMaXN0LmFkZChcImFjdGl2YXRlXCIpO1xuICAgIGVuZW15RGl2LmNsYXNzTGlzdC5hZGQoXCJhY3RpdmF0ZVwiKTtcblxuICAgIC8vcmVuZGVyIHBsYXllciBib2FyZFxuICAgIGNvbnN0IHBsYXllckdhbWVib2FyZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgcGxheWVyR2FtZWJvYXJkLmNsYXNzTmFtZSA9IFwicGxheWVyLWdhbWVib2FyZFwiO1xuICAgIGxldCBjZWxsQ291bnRlciA9IDA7XG5cbiAgICBmb3IgKGxldCByb3cgPSAwOyByb3cgPCBwbGF5ZXIuZ2FtZWJvYXJkLnNpemU7IHJvdysrKSB7XG4gICAgICBmb3IgKGxldCBjb2wgPSAwOyBjb2wgPCBwbGF5ZXIuZ2FtZWJvYXJkLnNpemU7IGNvbCsrKSB7XG4gICAgICAgIGxldCBjZWxsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgY2VsbC5jbGFzc0xpc3QuYWRkKFwiY2VsbFwiKTtcbiAgICAgICAgY2VsbC5jbGFzc0xpc3QuYWRkKFwidXNlci1jZWxsXCIpO1xuICAgICAgICBsZXQgY2VsbElkID0gY2VsbENvdW50ZXIudG9TdHJpbmcoKS5wYWRTdGFydCgyLCBcIjBcIik7XG4gICAgICAgIGNlbGwuc2V0QXR0cmlidXRlKFwiaWRcIiwgY2VsbElkKTtcbiAgICAgICAgcGxheWVyR2FtZWJvYXJkLmFwcGVuZENoaWxkKGNlbGwpO1xuICAgICAgICBwbGF5ZXIuZ2FtZWJvYXJkLmdhbWVCb2FyZFtyb3ddW2NvbF0uZWxlbWVudCA9IGNlbGw7XG4gICAgICAgIGNlbGxDb3VudGVyKys7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy91c2VyIHNoaXAgY29udGFpbmVyXG4gICAgbGV0IHVzZXJTaGlwQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICB1c2VyU2hpcENvbnRhaW5lci5jbGFzc05hbWUgPSBcInNoaXAtY29udGFpbmVyXCI7XG5cbiAgICBjb25zdCBjcmVhdGVTaGlwSWNvbiA9IChjbGFzc05hbWUsIHNyYykgPT4ge1xuICAgICAgbGV0IHNoaXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xuICAgICAgc2hpcC5zcmMgPSBzcmM7XG4gICAgICBzaGlwLmNsYXNzTmFtZSA9IGNsYXNzTmFtZTtcbiAgICAgIHNoaXAuY2xhc3NMaXN0LmFkZChcInNoaXAtaWNvblwiKTtcbiAgICAgIHJldHVybiBzaGlwO1xuICAgIH07XG5cbiAgICBsZXQgc2hpcDEgPSBjcmVhdGVTaGlwSWNvbihcInVDYXJyaWVyIGdyYXlcIiwgXCIuLi9zcmMvYXNzZXRzL3NoaXAtNS5qcGdcIik7XG4gICAgbGV0IHNoaXAyID0gY3JlYXRlU2hpcEljb24oXCJ1QmF0dGxlc2hpcCBncmF5XCIsIFwiLi4vc3JjL2Fzc2V0cy9zaGlwLTQuanBnXCIpO1xuICAgIGxldCBzaGlwMyA9IGNyZWF0ZVNoaXBJY29uKFwidUNydWlzZXIgZ3JheVwiLCBcIi4uL3NyYy9hc3NldHMvc2hpcC0zLmpwZ1wiKTtcbiAgICBsZXQgc2hpcDQgPSBjcmVhdGVTaGlwSWNvbihcInVTdWJtYXJpbmUgZ3JheVwiLCBcIi4uL3NyYy9hc3NldHMvc2hpcC0zLmpwZ1wiKTtcbiAgICBsZXQgc2hpcDUgPSBjcmVhdGVTaGlwSWNvbihcInVEZXN0cm95ZXIgZ3JheVwiLCBcIi4uL3NyYy9hc3NldHMvc2hpcC0yLmpwZ1wiKTtcblxuICAgIHVzZXJTaGlwQ29udGFpbmVyLmFwcGVuZChzaGlwMSwgc2hpcDIsIHNoaXAzLCBzaGlwNCwgc2hpcDUpO1xuXG4gICAgLy9lbmVteSBzaGlwIGNvbnRhaW5lclxuXG4gICAgbGV0IGVuZW15U2hpcENvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgZW5lbXlTaGlwQ29udGFpbmVyLmNsYXNzTmFtZSA9IFwiZS1zaGlwLWNvbnRhaW5lclwiO1xuICAgIGxldCBzaGlwXzEgPSBjcmVhdGVTaGlwSWNvbihcImVDYXJyaWVyXCIsIFwiLi4vc3JjL2Fzc2V0cy9zaGlwLTUuanBnXCIpO1xuICAgIGxldCBzaGlwXzIgPSBjcmVhdGVTaGlwSWNvbihcImVCYXR0bGVzaGlwXCIsIFwiLi4vc3JjL2Fzc2V0cy9zaGlwLTQuanBnXCIpO1xuICAgIGxldCBzaGlwXzMgPSBjcmVhdGVTaGlwSWNvbihcImVDcnVpc2VyXCIsIFwiLi4vc3JjL2Fzc2V0cy9zaGlwLTMuanBnXCIpO1xuICAgIGxldCBzaGlwXzQgPSBjcmVhdGVTaGlwSWNvbihcImVTdWJtYXJpbmVcIiwgXCIuLi9zcmMvYXNzZXRzL3NoaXAtMy5qcGdcIik7XG4gICAgbGV0IHNoaXBfNSA9IGNyZWF0ZVNoaXBJY29uKFwiZURlc3Ryb3llclwiLCBcIi4uL3NyYy9hc3NldHMvc2hpcC0yLmpwZ1wiKTtcblxuICAgIGVuZW15U2hpcENvbnRhaW5lci5hcHBlbmQoc2hpcF8xLCBzaGlwXzIsIHNoaXBfMywgc2hpcF80LCBzaGlwXzUpO1xuXG4gICAgLy8gcmVuZGVyIGVuZW15IGJvYXJkXG4gICAgY29uc3QgZW5lbXlHYW1lYm9hcmQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGVuZW15R2FtZWJvYXJkLmNsYXNzTmFtZSA9IFwiZW5lbXktZ2FtZWJvYXJkXCI7XG4gICAgY2VsbENvdW50ZXIgPSAwO1xuXG4gICAgZm9yIChsZXQgcm93ID0gMDsgcm93IDwgZW5lbXkuZ2FtZWJvYXJkLnNpemU7IHJvdysrKSB7XG4gICAgICBmb3IgKGxldCBjb2wgPSAwOyBjb2wgPCBlbmVteS5nYW1lYm9hcmQuc2l6ZTsgY29sKyspIHtcbiAgICAgICAgbGV0IGNlbGwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBjZWxsLmNsYXNzTGlzdC5hZGQoXCJjZWxsXCIpO1xuICAgICAgICBjZWxsLmNsYXNzTGlzdC5hZGQoXCJlbmVteS1jZWxsXCIpO1xuICAgICAgICBsZXQgY2VsbElkID0gY2VsbENvdW50ZXIudG9TdHJpbmcoKS5wYWRTdGFydCgyLCBcIjBcIik7XG4gICAgICAgIGNlbGwuc2V0QXR0cmlidXRlKFwiaWRcIiwgY2VsbElkKTtcbiAgICAgICAgZW5lbXlHYW1lYm9hcmQuYXBwZW5kQ2hpbGQoY2VsbCk7XG4gICAgICAgIGVuZW15LmdhbWVib2FyZC5nYW1lQm9hcmRbcm93XVtjb2xdLmVsZW1lbnQgPSBjZWxsO1xuICAgICAgICBjZWxsQ291bnRlcisrO1xuICAgICAgfVxuICAgIH1cbiAgICAvL3JlbmRlciBzaGlwIGRpcmVjdGlvbiBidXR0b25cbiAgICBjb25zdCBzaGlwRGlyZWN0aW9uRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBzaGlwRGlyZWN0aW9uRGl2LmNsYXNzTGlzdC5hZGQoXCJkaXJlY3Rpb24tYnRuLWRpdlwiKTtcblxuICAgIHRoaXMuc2hpcERpcmVjdGlvbkJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgdGhpcy5zaGlwRGlyZWN0aW9uQnRuLmNsYXNzTGlzdC5hZGQoXCJzaGlwLWRpcmVjdGlvblwiKTtcbiAgICB0aGlzLnNoaXBEaXJlY3Rpb25CdG4udGV4dENvbnRlbnQgPSBcIlZlcnRpY2FsXCI7XG5cbiAgICB0aGlzLnNoaXBEaXJlY3Rpb25CdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHRoaXMuc2hpcERpcmVjdGlvbkJ0bi50ZXh0Q29udGVudCA9XG4gICAgICAgIHRoaXMuc2hpcERpcmVjdGlvbkJ0bi50ZXh0Q29udGVudCA9PT0gXCJWZXJ0aWNhbFwiXG4gICAgICAgICAgPyBcIkhvcml6b250YWxcIlxuICAgICAgICAgIDogXCJWZXJ0aWNhbFwiO1xuICAgICAgLy8gIHRoaXMudGVzdCh1bmRlZmluZWQsIHRoaXMuc2hpcERpcmVjdGlvbkJ0bi50ZXh0Q29udGVudCk7XG4gICAgfSk7XG5cbiAgICBzaGlwRGlyZWN0aW9uRGl2LmFwcGVuZENoaWxkKHRoaXMuc2hpcERpcmVjdGlvbkJ0bik7XG5cbiAgICAvLyBhZGQgZWxlbWVudHMgdG8gdGhlIGRvbVxuICAgIHRoaXMudXNlckJvYXJkLmFwcGVuZChwbGF5ZXJHYW1lYm9hcmQsIHNoaXBEaXJlY3Rpb25EaXYsIHVzZXJTaGlwQ29udGFpbmVyKTtcbiAgICB0aGlzLmVuZW15Qm9hcmQuYXBwZW5kKGVuZW15R2FtZWJvYXJkLCBlbmVteVNoaXBDb250YWluZXIpO1xuXG4gICAgLy8gc2xpZGUgYW5pbWF0aW9uIGZvciB0aGUgYm9hcmRzXG4gICAgdGhpcy51c2VyQm9hcmQuc3R5bGUudHJhbnNmb3JtID0gXCJ0cmFuc2xhdGVYKDApXCI7XG4gICAgdGhpcy5lbmVteUJvYXJkLnN0eWxlLnRyYW5zZm9ybSA9IFwidHJhbnNsYXRlWCgwKVwiO1xuICB9XG5cbiAgLy9ldmVudCBsaXN0ZW5lciBmb3IgdGhlIHNoaXAgcGxhY2VtZW50XG4gIGV2ZW50TGlzdGVuZXJGb3JTaGlwUGxhY2luZyhmbGVldCwgcGxheWVyLCBlbmVteSkge1xuICAgIGxldCBib2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudXNlci1ib2FyZFwiKTtcbiAgICBsZXQgY2VsbHMgPSBib2FyZC5xdWVyeVNlbGVjdG9yQWxsKFwiLmNlbGxcIik7XG4gICAgbGV0IGNvdW50ZXIgPSAwO1xuICAgIGxldCBzaGlwRmxlZXQgPSBmbGVldDtcbiAgICBsZXQgc2hpcERpcmVjdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2hpcC1kaXJlY3Rpb25cIik7XG4gICAgbGV0IHNoaXBzID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmdyYXlcIikpO1xuICAgIHRoaXMuc2hpcEhvdmVyRWZmZWN0KHNoaXBGbGVldFtjb3VudGVyXSwgdHJ1ZSk7XG5cbiAgICBjb25zdCBzaGlwUGxhY2luZ0hhbmRsZXIgPSAoZXZlbnQpID0+IHtcbiAgICAgIGxldCByb3cgPSBwYXJzZUludChldmVudC50YXJnZXQuaWRbMF0pO1xuICAgICAgbGV0IGNvbHVtbiA9IHBhcnNlSW50KGV2ZW50LnRhcmdldC5pZFsxXSk7XG4gICAgICBsZXQgZGlyZWN0aW9uID0gc2hpcERpcmVjdGlvbi50ZXh0Q29udGVudDtcblxuICAgICAgaWYgKGNvdW50ZXIgPCBzaGlwRmxlZXQubGVuZ3RoKSB7XG4gICAgICAgIGxldCBwbGFjZW1lbnRTdWNjZXNzZnVsID0gdGhpcy5wbGF5ZXIuZ2FtZWJvYXJkLnBsYWNlU2hpcChcbiAgICAgICAgICBzaGlwRmxlZXRbY291bnRlcl0sXG4gICAgICAgICAgcm93LFxuICAgICAgICAgIGNvbHVtbixcbiAgICAgICAgICBkaXJlY3Rpb25cbiAgICAgICAgKTtcblxuICAgICAgICBzaGlwc1tjb3VudGVyXS5jbGFzc0xpc3QucmVtb3ZlKFwiZ3JheVwiKTtcblxuICAgICAgICBpZiAocGxhY2VtZW50U3VjY2Vzc2Z1bCkge1xuICAgICAgICAgIHRoaXMuYXVkaW9QbGF5ZXIucGxhY2VTaGlwU291bmQoKTtcbiAgICAgICAgICB0aGlzLnVwZGF0ZVVpKGVuZW15LCBwbGF5ZXIpO1xuICAgICAgICAgIHRoaXMuc3R5bGVTaGlwT25Cb2FyZChzaGlwRmxlZXRbY291bnRlcl0sIHJvdywgY29sdW1uLCBkaXJlY3Rpb24pO1xuICAgICAgICAgIGNvdW50ZXIrKztcbiAgICAgICAgICBpZiAoY291bnRlciA8IDUpIHtcbiAgICAgICAgICAgIHRoaXMuc2hpcEhvdmVyRWZmZWN0KHNoaXBGbGVldFtjb3VudGVyXSwgdHJ1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChjb3VudGVyID09PSBzaGlwRmxlZXQubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLnNoaXBIb3ZlckVmZmVjdCgwLCBmYWxzZSk7XG4gICAgICAgICAgICBjZWxscy5mb3JFYWNoKChjZWxsKSA9PlxuICAgICAgICAgICAgICBjZWxsLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBzaGlwUGxhY2luZ0hhbmRsZXIpXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgc2hpcERpcmVjdGlvbi5yZW1vdmUoKTtcbiAgICAgICAgICAgIGxldCBlU2hpcENvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZS1zaGlwLWNvbnRhaW5lclwiKTtcbiAgICAgICAgICAgIGVTaGlwQ29udGFpbmVyLnN0eWxlLm1hcmdpblRvcCA9IFwiMXJlbVwiO1xuXG4gICAgICAgICAgICB0aGlzLmV2ZW50TGlzdGVuZXJGb3JQbGF5aW5nKHBsYXllciwgZW5lbXkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICBjZWxscy5mb3JFYWNoKChjZWxsKSA9PiBjZWxsLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBzaGlwUGxhY2luZ0hhbmRsZXIpKTtcbiAgfVxuXG4gIHNoaXBIb3ZlckVmZmVjdChzaGlwLCBhY3RpdmF0ZWQpIHtcbiAgICB0aGlzLmhvdmVyQWN0aXZlID0gYWN0aXZhdGVkO1xuICAgIGxldCBjZWxscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIudXNlci1jZWxsXCIpO1xuICAgIGxldCBzaGlwTGVuZ3RoID0gc2hpcC5sZW5ndGg7XG4gICAgbGV0IGJvYXJkU2l6ZSA9IHRoaXMuZ2FtZS5wbGF5ZXIuZ2FtZWJvYXJkLnNpemU7XG5cbiAgICBjZWxscy5mb3JFYWNoKChjZWxsKSA9PiB7XG4gICAgICBjZWxsLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWVudGVyXCIsICgpID0+IHtcbiAgICAgICAgaWYgKCF0aGlzLmhvdmVyQWN0aXZlKSB7XG4gICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5wbGFjZS1zaGlwLWhvdmVyXCIpLmZvckVhY2goKGNlbGwpID0+IHtcbiAgICAgICAgICAgIGNlbGwuY2xhc3NMaXN0LnJlbW92ZShcInBsYWNlLXNoaXAtaG92ZXJcIik7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGxldCBkaXJlY3Rpb24gPSB0aGlzLnNoaXBEaXJlY3Rpb25CdG4udGV4dENvbnRlbnQ7XG4gICAgICAgIGxldCBbcm93LCBjb2xdID0gdGhpcy5nZXRSb3dDb2xGcm9tQ2VsbElkKGNlbGwuaWQpO1xuXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucGxhY2Utc2hpcC1ob3ZlclwiKS5mb3JFYWNoKChjZWxsKSA9PiB7XG4gICAgICAgICAgY2VsbC5jbGFzc0xpc3QucmVtb3ZlKFwicGxhY2Utc2hpcC1ob3ZlclwiKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKGRpcmVjdGlvbiA9PT0gXCJWZXJ0aWNhbFwiKSB7XG4gICAgICAgICAgaWYgKHJvdyArIHNoaXBMZW5ndGggPD0gYm9hcmRTaXplKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNoaXBMZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICBsZXQgY29vcmRpbmF0ZSA9IGAke3JvdyArIGl9JHtjb2x9YDtcbiAgICAgICAgICAgICAgbGV0IHNoaXBDZWxsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY29vcmRpbmF0ZSk7XG4gICAgICAgICAgICAgIGlmIChzaGlwQ2VsbCkge1xuICAgICAgICAgICAgICAgIHNoaXBDZWxsLmNsYXNzTGlzdC5hZGQoXCJwbGFjZS1zaGlwLWhvdmVyXCIpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRpcmVjdGlvbiA9PT0gXCJIb3Jpem9udGFsXCIpIHtcbiAgICAgICAgICBpZiAoY29sICsgc2hpcExlbmd0aCA8PSBib2FyZFNpemUpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2hpcExlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgIGxldCBjb29yZGluYXRlID0gYCR7cm93fSR7Y29sICsgaX1gO1xuICAgICAgICAgICAgICBsZXQgc2hpcENlbGwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjb29yZGluYXRlKTtcbiAgICAgICAgICAgICAgaWYgKHNoaXBDZWxsKSB7XG4gICAgICAgICAgICAgICAgc2hpcENlbGwuY2xhc3NMaXN0LmFkZChcInBsYWNlLXNoaXAtaG92ZXJcIik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgY2VsbHMuZm9yRWFjaCgoY2VsbCkgPT4ge1xuICAgICAgY2VsbC5hZGRFdmVudExpc3RlbmVyKFwibW91c2VsZWF2ZVwiLCAoKSA9PiB7XG4gICAgICAgIGlmICghdGhpcy5ob3ZlckFjdGl2ZSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgZGlyZWN0aW9uID0gdGhpcy5zaGlwRGlyZWN0aW9uQnRuLnRleHRDb250ZW50O1xuICAgICAgICBsZXQgW3JvdywgY29sXSA9IHRoaXMuZ2V0Um93Q29sRnJvbUNlbGxJZChjZWxsLmlkKTtcblxuICAgICAgICBpZiAoZGlyZWN0aW9uID09PSBcIlZlcnRpY2FsXCIpIHtcbiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNoaXBMZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IGNvb3JkaW5hdGUgPSBgJHtyb3cgKyBpfSR7Y29sfWA7XG4gICAgICAgICAgICBsZXQgc2hpcENlbGwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjb29yZGluYXRlKTtcbiAgICAgICAgICAgIGlmIChzaGlwQ2VsbCkge1xuICAgICAgICAgICAgICBzaGlwQ2VsbC5jbGFzc0xpc3QucmVtb3ZlKFwicGxhY2Utc2hpcC1ob3ZlclwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGlyZWN0aW9uID09PSBcIkhvcml6b250YWxcIikge1xuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2hpcExlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgY29vcmRpbmF0ZSA9IGAke3Jvd30ke2NvbCArIGl9YDtcbiAgICAgICAgICAgIGxldCBzaGlwQ2VsbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNvb3JkaW5hdGUpO1xuICAgICAgICAgICAgaWYgKHNoaXBDZWxsKSB7XG4gICAgICAgICAgICAgIHNoaXBDZWxsLmNsYXNzTGlzdC5yZW1vdmUoXCJwbGFjZS1zaGlwLWhvdmVyXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBnZXRSb3dDb2xGcm9tQ2VsbElkKGNlbGxJZCkge1xuICAgIGNvbnN0IHBhcnRzID0gY2VsbElkLnNwbGl0KFwiXCIpO1xuICAgIGNvbnN0IHJvdyA9IHBhcnNlSW50KHBhcnRzWzBdKTtcbiAgICBjb25zdCBjb2wgPSBwYXJzZUludChwYXJ0c1sxXSk7XG4gICAgcmV0dXJuIFtyb3csIGNvbF07XG4gIH1cblxuICBzdHlsZVNoaXBPbkJvYXJkKHNoaXAsIHN0YXJ0Um93LCBzdGFydENvbHVtbiwgZGlyZWN0aW9uKSB7XG4gICAgaWYgKGRpcmVjdGlvbiA9PT0gXCJIb3Jpem9udGFsXCIpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2hpcC5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQgY2VsbElkID0gYCR7c3RhcnRSb3d9JHtzdGFydENvbHVtbiArIGl9YDtcblxuICAgICAgICBsZXQgY2VsbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNlbGxJZCk7XG4gICAgICAgIGlmIChjZWxsKSB7XG4gICAgICAgICAgY2VsbC5jbGFzc0xpc3QuYWRkKFwic2hpcC1vbi1jZWxsXCIpO1xuICAgICAgICAgIGlmIChpID09PSAwKSB7XG4gICAgICAgICAgICBjZWxsLmNsYXNzTGlzdC5hZGQoXCJmaXJzdC1ob3Jpem9udGFsXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoaSA9PT0gc2hpcC5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICBjZWxsLmNsYXNzTGlzdC5hZGQoXCJsYXN0LWhvcml6b250YWxcIik7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2hpcC5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQgY2VsbElkID0gYCR7c3RhcnRSb3cgKyBpfSR7c3RhcnRDb2x1bW59YDtcbiAgICAgICAgbGV0IGNlbGwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjZWxsSWQpO1xuICAgICAgICBpZiAoY2VsbCkge1xuICAgICAgICAgIGNlbGwuY2xhc3NMaXN0LmFkZChcInNoaXAtb24tY2VsbFwiKTtcbiAgICAgICAgICBpZiAoaSA9PT0gMCkge1xuICAgICAgICAgICAgY2VsbC5jbGFzc0xpc3QuYWRkKFwiZmlyc3QtdmVydGljYWxcIik7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChpID09PSBzaGlwLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgIGNlbGwuY2xhc3NMaXN0LmFkZChcImxhc3QtdmVydGljYWxcIik7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gYWZ0ZXIgcGxhY2luZyB0aGUgc2hpcHMgdGhlIGV2ZW50IGxpc3RlbmVyIGZvciBzdGFydGluZyB0aGUgZ2FtZVxuICBldmVudExpc3RlbmVyRm9yUGxheWluZyhwbGF5ZXIsIGVuZW15KSB7XG4gICAgdGhpcy5zdHlsZUVuZW15U2hpcHModGhpcy5lbmVteUZsZWV0KTtcbiAgICBsZXQgYm9hcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmVuZW15LWJvYXJkXCIpO1xuICAgIGxldCBjZWxscyA9IGJvYXJkLnF1ZXJ5U2VsZWN0b3JBbGwoXCIuY2VsbFwiKTtcbiAgICB0aGlzLmhpZ2hsaWdodEVuZW15Qm9hcmQoKTtcblxuICAgIHRoaXMuaGFuZGxlQ2xpY2sgPSAoZXZlbnQpID0+IHtcbiAgICAgIGxldCBjZWxsID0gZXZlbnQudGFyZ2V0O1xuICAgICAgdGhpcy5hdWRpb1BsYXllci5wbGF5QXR0YWNrU3RhcnQoKTtcbiAgICAgIGlmIChjZWxsLmNsYXNzTGlzdC5jb250YWlucyhcImhpdFwiKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycyhjZWxscyk7XG4gICAgICBjZWxsLmNsYXNzTGlzdC5hZGQoXCJjZWxsLWF0dGFja1wiKTtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBsZXQgcm93ID0gcGFyc2VJbnQoY2VsbC5pZFsxXSk7XG4gICAgICAgIGxldCBjb2x1bW4gPSBwYXJzZUludChjZWxsLmlkWzBdKTtcbiAgICAgICAgY2VsbC5jbGFzc0xpc3QucmVtb3ZlKFwiY2VsbC1hdHRhY2tcIik7XG4gICAgICAgIGlmIChwbGF5ZXIuYXR0YWNrKGVuZW15LCByb3csIGNvbHVtbikgPT09IHRydWUpIHtcbiAgICAgICAgICB0aGlzLmFkZEFsbExpc3RlbmVycyhjZWxscywgdGhpcy5oYW5kbGVDbGljayk7XG4gICAgICAgICAgdGhpcy5hdWRpb1BsYXllci5wbGF5QXR0YWNrSGl0KCk7XG4gICAgICAgICAgY2VsbC5jbGFzc0xpc3QuYWRkKFwiaGl0XCIpO1xuICAgICAgICAgIHRoaXMudXBkYXRlVWkoZW5lbXksIHBsYXllcik7XG4gICAgICAgICAgdGhpcy5jaGVja1NoaXBJY29ucygpO1xuICAgICAgICAgIGlmICh0aGlzLmdhbWUuY2hlY2tHYW1lT3ZlcigpID09PSBcImVuZW15R2FtZU92ZXJcIikge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoY2VsbHMpO1xuICAgICAgICAgICAgdGhpcy5zaG93V2lubmVyKHBsYXllcik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmF1ZGlvUGxheWVyLndhdGVyU3BsYXNoU291bmQoKTtcbiAgICAgICAgY2VsbC5jbGFzc0xpc3QuYWRkKFwiaGl0XCIpO1xuICAgICAgICB0aGlzLnVwZGF0ZVVpKGVuZW15LCBwbGF5ZXIpO1xuICAgICAgICB0aGlzLmNoZWNrU2hpcEljb25zKCk7XG5cbiAgICAgICAgdGhpcy51bmhpZ2hsaWdodEVuZW15Qm9hcmQoKTtcbiAgICAgICAgdGhpcy5oaWdobGlnaHRQbGF5ZXJCb2FyZCgpO1xuICAgICAgICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycyhjZWxscyk7XG5cbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgdGhpcy5lbmVteUF0dGFja1NlcXVlbmNlKGVuZW15LCBwbGF5ZXIsIGNlbGxzKTtcbiAgICAgICAgfSwgMjUwMCk7XG4gICAgICB9LCAxNzAwKTtcbiAgICB9O1xuICAgIHRoaXMuaGlnaGxpZ2h0RW5lbXlCb2FyZCgpO1xuICAgIHRoaXMuYWRkQWxsTGlzdGVuZXJzKGNlbGxzLCB0aGlzLmhhbmRsZUNsaWNrKTtcbiAgfVxuXG4gIGVuZW15QXR0YWNrU2VxdWVuY2UoZW5lbXksIHBsYXllciwgY2VsbHMpIHtcbiAgICB0aGlzLmhpZ2hsaWdodFBsYXllckJvYXJkKCk7XG4gICAgdGhpcy5hdWRpb1BsYXllci5wbGF5QXR0YWNrU3RhcnQoKTtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGlmIChlbmVteS5hdHRhY2tSYW5kb20ocGxheWVyKSA9PT0gdHJ1ZSkge1xuICAgICAgICB0aGlzLmF1ZGlvUGxheWVyLnBsYXlBdHRhY2tIaXQoKTtcbiAgICAgICAgdGhpcy51cGRhdGVVaShlbmVteSwgcGxheWVyKTtcbiAgICAgICAgdGhpcy5jaGVja1NoaXBJY29ucygpO1xuXG4gICAgICAgIGlmICh0aGlzLmdhbWUuY2hlY2tHYW1lT3ZlcigpID09PSBcInBsYXllckdhbWVPdmVyXCIpIHtcbiAgICAgICAgICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycyhjZWxscyk7XG4gICAgICAgICAgdGhpcy5zaG93V2lubmVyKGVuZW15KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZW5lbXlBdHRhY2tTZXF1ZW5jZShlbmVteSwgcGxheWVyLCBjZWxscyk7XG4gICAgICAgICAgfSwgMjUwMCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuYXVkaW9QbGF5ZXIud2F0ZXJTcGxhc2hTb3VuZCgpO1xuICAgICAgICB0aGlzLnVwZGF0ZVVpKGVuZW15LCBwbGF5ZXIpO1xuICAgICAgICB0aGlzLnVuaGlnaGxpZ2h0UGxheWVyQm9hcmQoKTtcbiAgICAgICAgdGhpcy5oaWdobGlnaHRFbmVteUJvYXJkKCk7XG4gICAgICAgIHRoaXMuYWRkQWxsTGlzdGVuZXJzKGNlbGxzLCB0aGlzLmhhbmRsZUNsaWNrKTtcbiAgICAgIH1cbiAgICAgIHRoaXMudW5oaWdobGlnaHRQbGF5ZXJCb2FyZDtcbiAgICB9LCAxNTAwKTtcbiAgfVxuXG4gIHJlbW92ZUFsbExpc3RlbmVycyhjZWxscykge1xuICAgIGNlbGxzLmZvckVhY2goKGNlbGwpID0+XG4gICAgICBjZWxsLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLmhhbmRsZUNsaWNrKVxuICAgICk7XG4gIH1cblxuICBhZGRBbGxMaXN0ZW5lcnMoY2VsbHMsIGhhbmRsZUNsaWNrKSB7XG4gICAgY2VsbHMuZm9yRWFjaCgoY2VsbCkgPT4ge1xuICAgICAgaWYgKCFjZWxsLmNsYXNzTGlzdC5jb250YWlucyhcImhpdFwiKSkge1xuICAgICAgICBjZWxsLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBoYW5kbGVDbGljayk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBzdHlsZUVuZW15U2hpcHMoZW5lbXlGbGVldCkge1xuICAgIC8vdmVydGljYWwgc2hpcCBzdGFydCBhbmQgZW5kIHN0eWxpbmdcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVuZW15RmxlZXQubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChlbmVteUZsZWV0W2ldLmRpcmVjdGlvbiA9PT0gXCJWZXJ0aWNhbFwiKSB7XG4gICAgICAgIGxldCBzdGFydENvb3JkaW5hdGVzID0gYCR7ZW5lbXlGbGVldFtpXS5zdGFydFswXS5yb3d9JHtlbmVteUZsZWV0W2ldLnN0YXJ0WzBdLmNvbHVtbn1gO1xuICAgICAgICBsZXQgZXNjYXBlZElkID0gYFxcXFwzJHtzdGFydENvb3JkaW5hdGVzLmNoYXJBdChcbiAgICAgICAgICAwXG4gICAgICAgICl9ICR7c3RhcnRDb29yZGluYXRlcy5zbGljZSgxKX1gO1xuICAgICAgICBsZXQgdGFyZ2V0U3RhcnRDZWxsID0gdGhpcy5lbmVteUJvYXJkLnF1ZXJ5U2VsZWN0b3IoYCMke2VzY2FwZWRJZH1gKTtcbiAgICAgICAgdGFyZ2V0U3RhcnRDZWxsLmNsYXNzTGlzdC5hZGQoXCJmaXJzdC12ZXJ0aWNhbFwiKTtcblxuICAgICAgICBsZXQgZW5kQ29vcmRpbmF0ZXMgPSBgJHtlbmVteUZsZWV0W2ldLmVuZFswXS5yb3d9JHtlbmVteUZsZWV0W2ldLmVuZFswXS5jb2x1bW59YDtcbiAgICAgICAgbGV0IGVzY0lkID0gYFxcXFwzJHtlbmRDb29yZGluYXRlcy5jaGFyQXQoMCl9ICR7ZW5kQ29vcmRpbmF0ZXMuc2xpY2UoMSl9YDtcbiAgICAgICAgbGV0IHRhcmdldEVuZENlbGwgPSB0aGlzLmVuZW15Qm9hcmQucXVlcnlTZWxlY3RvcihgIyR7ZXNjSWR9YCk7XG4gICAgICAgIHRhcmdldEVuZENlbGwuY2xhc3NMaXN0LmFkZChcImxhc3QtdmVydGljYWxcIik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvL2hvcml6b250YWwgc2hpcCBzdGFydCBhbmQgZW5kIHN0eWxpbmdcbiAgICAgICAgbGV0IHN0YXJ0Q29vcmRpbmF0ZXMyID0gYCR7ZW5lbXlGbGVldFtpXS5zdGFydFswXS5yb3d9JHtlbmVteUZsZWV0W2ldLnN0YXJ0WzBdLmNvbHVtbn1gO1xuICAgICAgICBsZXQgZXNjYXBlZElkMiA9IGBcXFxcMyR7c3RhcnRDb29yZGluYXRlczIuY2hhckF0KFxuICAgICAgICAgIDBcbiAgICAgICAgKX0gJHtzdGFydENvb3JkaW5hdGVzMi5zbGljZSgxKX1gO1xuICAgICAgICBsZXQgdGFyZ2V0U3RhcnRDZWxsMiA9IHRoaXMuZW5lbXlCb2FyZC5xdWVyeVNlbGVjdG9yKGAjJHtlc2NhcGVkSWQyfWApO1xuICAgICAgICB0YXJnZXRTdGFydENlbGwyLmNsYXNzTGlzdC5hZGQoXCJmaXJzdC1ob3Jpem9udGFsXCIpO1xuXG4gICAgICAgIGxldCBlbmRDb29yZGluYXRlczIgPSBgJHtlbmVteUZsZWV0W2ldLmVuZFswXS5yb3d9JHtlbmVteUZsZWV0W2ldLmVuZFswXS5jb2x1bW59YDtcbiAgICAgICAgbGV0IGVzY0lkMiA9IGBcXFxcMyR7ZW5kQ29vcmRpbmF0ZXMyLmNoYXJBdCgwKX0gJHtlbmRDb29yZGluYXRlczIuc2xpY2UoXG4gICAgICAgICAgMVxuICAgICAgICApfWA7XG4gICAgICAgIGxldCB0YXJnZXRFbmRDZWxsMiA9IHRoaXMuZW5lbXlCb2FyZC5xdWVyeVNlbGVjdG9yKGAjJHtlc2NJZDJ9YCk7XG4gICAgICAgIHRhcmdldEVuZENlbGwyLmNsYXNzTGlzdC5hZGQoXCJsYXN0LWhvcml6b250YWxcIik7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy9mdW5jdGlvbiBmb3IgVUkgdXBkYXRlc1xuICB1cGRhdGVVaShlbmVteSwgcGxheWVyKSB7XG4gICAgbGV0IGVuZW15Qm9hcmQgPSBlbmVteS5nYW1lYm9hcmQuZ2FtZUJvYXJkO1xuICAgIGxldCBwbGF5ZXJCb2FyZCA9IHBsYXllci5nYW1lYm9hcmQuZ2FtZUJvYXJkO1xuXG4gICAgZW5lbXlCb2FyZC5mb3JFYWNoKChyb3cpID0+IHtcbiAgICAgIHJvdy5mb3JFYWNoKChjZWxsKSA9PiB7XG4gICAgICAgIGlmIChjZWxsLnNoaXAgJiYgY2VsbC5zaGlwLmRlc3Ryb3llZCkge1xuICAgICAgICAgIGNlbGwuZWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiZGVzdHJveWVkXCIpO1xuICAgICAgICB9IGVsc2UgaWYgKGNlbGwuc2hpcCAmJiAhY2VsbC5oYXNCZWVuU2hvdCkge1xuICAgICAgICAgIC8vIGNlbGwuZWxlbWVudC5jbGFzc0xpc3QuYWRkKFwic2hpcC1vbi1jZWxsXCIpO1xuICAgICAgICB9IGVsc2UgaWYgKCFjZWxsLnNoaXAgJiYgY2VsbC5oYXNCZWVuU2hvdCkge1xuICAgICAgICAgIGNlbGwuZWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiY2VsbC1zaG90XCIpO1xuICAgICAgICB9IGVsc2UgaWYgKGNlbGwuc2hpcCAmJiBjZWxsLmhhc0JlZW5TaG90KSB7XG4gICAgICAgICAgY2VsbC5lbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJzaGlwLXNob3RcIik7XG4gICAgICAgICAgY2VsbC5lbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJwdWxzaW5nXCIpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIHBsYXllckJvYXJkLmZvckVhY2goKHJvdykgPT4ge1xuICAgICAgcm93LmZvckVhY2goKGNlbGwpID0+IHtcbiAgICAgICAgaWYgKGNlbGwuc2hpcCAmJiBjZWxsLnNoaXAuZGVzdHJveWVkKSB7XG4gICAgICAgICAgY2VsbC5lbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJkZXN0cm95ZWRcIik7XG4gICAgICAgIH0gZWxzZSBpZiAoY2VsbC5zaGlwICYmICFjZWxsLmhhc0JlZW5TaG90KSB7XG4gICAgICAgICAgY2VsbC5lbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJzaGlwLW9uLWNlbGxcIik7XG4gICAgICAgIH0gZWxzZSBpZiAoIWNlbGwuc2hpcCAmJiBjZWxsLmhhc0JlZW5TaG90KSB7XG4gICAgICAgICAgY2VsbC5lbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJjZWxsLXNob3RcIik7XG4gICAgICAgIH0gZWxzZSBpZiAoY2VsbC5zaGlwICYmIGNlbGwuaGFzQmVlblNob3QpIHtcbiAgICAgICAgICBjZWxsLmVsZW1lbnQuY2xhc3NMaXN0LmFkZChcInNoaXAtc2hvdFwiKTtcbiAgICAgICAgICBjZWxsLmVsZW1lbnQuY2xhc3NMaXN0LmFkZChcInB1bHNpbmdcIik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgY2hlY2tTaGlwSWNvbnMoKSB7XG4gICAgbGV0IHBsYXllckZsZWV0Q29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zaGlwLWNvbnRhaW5lclwiKTtcbiAgICBsZXQgZW5lbXlGbGVldENvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZS1zaGlwLWNvbnRhaW5lclwiKTtcbiAgICBsZXQgcGxheWVyRmxlZXQgPSBBcnJheS5mcm9tKFxuICAgICAgcGxheWVyRmxlZXRDb250YWluZXIucXVlcnlTZWxlY3RvckFsbChcIi5zaGlwLWljb25cIilcbiAgICApO1xuICAgIGxldCBlbmVteUZsZWV0ID0gQXJyYXkuZnJvbShcbiAgICAgIGVuZW15RmxlZXRDb250YWluZXIucXVlcnlTZWxlY3RvckFsbChcIi5zaGlwLWljb25cIilcbiAgICApO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbmVteUZsZWV0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAodGhpcy5lbmVteUZsZWV0W2ldLmRlc3Ryb3llZCkge1xuICAgICAgICBpZiAoIWVuZW15RmxlZXRbaV0uY2xhc3NMaXN0LmNvbnRhaW5zKFwiaWNvbi1zdW5rXCIpKSB7XG4gICAgICAgICAgZW5lbXlGbGVldFtpXS5jbGFzc0xpc3QuYWRkKFwiaWNvbi1zdW5rXCIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwbGF5ZXJGbGVldC5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHRoaXMucGxheWVyRmxlZXRbaV0uZGVzdHJveWVkKSB7XG4gICAgICAgIGlmICghcGxheWVyRmxlZXRbaV0uY2xhc3NMaXN0LmNvbnRhaW5zKFwiaWNvbi1zdW5rXCIpKSB7XG4gICAgICAgICAgcGxheWVyRmxlZXRbaV0uY2xhc3NMaXN0LmFkZChcImljb24tc3Vua1wiKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGhpZ2hsaWdodFBsYXllckJvYXJkKCkge1xuICAgIGxldCBwbGF5ZXJCb2FyZEhpZ2hsaWdodCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucGxheWVyLWdhbWVib2FyZFwiKTtcbiAgICBwbGF5ZXJCb2FyZEhpZ2hsaWdodC5jbGFzc0xpc3QuYWRkKFwiY3VycmVudC1wbGF5ZXJcIik7XG4gIH1cblxuICB1bmhpZ2hsaWdodFBsYXllckJvYXJkKCkge1xuICAgIGxldCBwbGF5ZXJCb2FyZEhpZ2hsaWdodCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucGxheWVyLWdhbWVib2FyZFwiKTtcbiAgICBwbGF5ZXJCb2FyZEhpZ2hsaWdodC5jbGFzc0xpc3QucmVtb3ZlKFwiY3VycmVudC1wbGF5ZXJcIik7XG4gIH1cblxuICBoaWdobGlnaHRFbmVteUJvYXJkKCkge1xuICAgIGxldCBlbmVteUJvYXJkSGlnaGxpZ2h0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbmVteS1nYW1lYm9hcmRcIik7XG4gICAgZW5lbXlCb2FyZEhpZ2hsaWdodC5jbGFzc0xpc3QuYWRkKFwiY3VycmVudC1wbGF5ZXJcIik7XG4gIH1cblxuICB1bmhpZ2hsaWdodEVuZW15Qm9hcmQoKSB7XG4gICAgbGV0IGVuZW15Qm9hcmRIaWdobGlnaHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmVuZW15LWdhbWVib2FyZFwiKTtcbiAgICBlbmVteUJvYXJkSGlnaGxpZ2h0LmNsYXNzTGlzdC5yZW1vdmUoXCJjdXJyZW50LXBsYXllclwiKTtcbiAgfVxuXG4gIGZsb2F0aW5nSWNvbnMoKSB7XG4gICAgbGV0IHNoaXAxID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcbiAgICBzaGlwMS5zcmMgPSBcIi4uL3NyYy9hc3NldHMvc2hpcC01LmpwZ1wiO1xuICAgIHNoaXAxLmNsYXNzTmFtZSA9IFwic2hpcDFcIjtcbiAgICB0aGlzLmNvbnRhaW5lci5hcHBlbmRDaGlsZChzaGlwMSk7XG4gICAgbGV0IGdhbWVCb2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucGxheWVyLWdhbWVib2FyZFwiKTtcbiAgICBnYW1lQm9hcmQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlb3ZlclwiLCAoZSkgPT4ge1xuICAgICAgc2hpcDEuc3R5bGUubGVmdCA9IGUucGFnZVggKyBgcHhgO1xuICAgICAgc2hpcDEuc3R5bGUudG9wID0gZS5wYWdlWSArIGBweGA7XG4gICAgICBzaGlwMS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgc2hpcDEuc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7XG4gICAgfSk7XG4gIH1cblxuICBzaG93V2lubmVyKHdpbm5lcikge1xuICAgIGxldCB3aW5uZXJOYW1lID0gd2lubmVyLm5hbWU7XG4gICAgbGV0IGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgY29udGFpbmVyLmNsYXNzTmFtZSA9IFwid2lubmVyLWNvbnRhaW5lclwiO1xuXG4gICAgbGV0IHdpbm5lclRleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaDFcIik7XG4gICAgd2lubmVyVGV4dC5jbGFzc05hbWUgPSBcIndpbm5lci10ZXh0XCI7XG4gICAgd2lubmVyVGV4dC50ZXh0Q29udGVudCA9IGBUaGUgV2lubmVyIGlzICR7d2lubmVyTmFtZX0gIWA7XG5cbiAgICBsZXQgYmx1cnJ5QmFja2dyb3VuZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgYmx1cnJ5QmFja2dyb3VuZC5jbGFzc05hbWUgPSBcImJsdXJyeS1kaXZcIjtcblxuICAgIGxldCBuZXdHYW1lQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbiAgICBuZXdHYW1lQnRuLnRleHRDb250ZW50ID0gXCJORVcgR0FNRVwiO1xuICAgIG5ld0dhbWVCdG4uY2xhc3NOYW1lID0gXCJuZXctZ2FtZS1idG5cIjtcbiAgICBuZXdHYW1lQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICB0aGlzLnN0YXJ0TmV3R2FtZSgpO1xuICAgIH0pO1xuXG4gICAgbGV0IHBsYXlBZ2FpbkJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgcGxheUFnYWluQnV0dG9uLmNsYXNzTmFtZSA9IFwicGxheS1hZ2Fpbi1idG5cIjtcbiAgICBwbGF5QWdhaW5CdXR0b24udGV4dENvbnRlbnQgPSBcIlBMQVkgQUdBSU5cIjtcbiAgICBwbGF5QWdhaW5CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHRoaXMucGxheUFnYWluKCk7XG4gICAgfSk7XG5cbiAgICBjb250YWluZXIuYXBwZW5kKHdpbm5lclRleHQsIG5ld0dhbWVCdG4sIHBsYXlBZ2FpbkJ1dHRvbik7XG5cbiAgICB0aGlzLmNvbnRhaW5lci5hcHBlbmRDaGlsZChjb250YWluZXIpO1xuICAgIHRoaXMuZ2FtZUNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwiYmx1cnJcIik7XG4gIH1cblxuICBwbGF5QWdhaW4oKSB7XG4gICAgbGV0IHdpbm5lckNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIud2lubmVyLWNvbnRhaW5lclwiKTtcbiAgICBpZiAod2lubmVyQ29udGFpbmVyKSB3aW5uZXJDb250YWluZXIucmVtb3ZlKCk7XG4gICAgdGhpcy5nYW1lQ29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoXCJibHVyclwiKTtcblxuICAgIHRoaXMuZ2FtZVN0YXJ0ID0gZmFsc2U7XG4gICAgdGhpcy5jbGVhckJvYXJkcygpO1xuICAgIHRoaXMuaW5pdGlhbGl6ZUdhbWUodGhpcy5wbGF5ZXIubmFtZSk7XG4gIH1cblxuICBzdGFydE5ld0dhbWUoKSB7XG4gICAgbGV0IHdpbm5lckNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIud2lubmVyLWNvbnRhaW5lclwiKTtcbiAgICBpZiAod2lubmVyQ29udGFpbmVyKSB3aW5uZXJDb250YWluZXIucmVtb3ZlKCk7XG4gICAgdGhpcy5nYW1lQ29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoXCJibHVyclwiKTtcbiAgICB0aGlzLmdhbWVTdGFydCA9IGZhbHNlO1xuICAgIHRoaXMuY2xlYXJCb2FyZHMoKTtcbiAgICB0aGlzLm5hbWVJbnB1dCgpO1xuICB9XG5cbiAgY2xlYXJCb2FyZHMoKSB7XG4gICAgbGV0IGVuZW15Qm9hcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmVuZW15LWdhbWVib2FyZFwiKTtcbiAgICBsZXQgcGxheWVyQm9hcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBsYXllci1nYW1lYm9hcmRcIik7XG4gICAgbGV0IGVTaGlwQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5lLXNoaXAtY29udGFpbmVyXCIpO1xuICAgIGxldCBzaGlwQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zaGlwLWNvbnRhaW5lclwiKTtcbiAgICBsZXQgdGl0bGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5hY3RpdmF0ZVwiKTtcbiAgICB0aXRsZXMuZm9yRWFjaCgoZGl2KSA9PiB7XG4gICAgICBkaXYuY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2YXRlXCIpO1xuICAgIH0pO1xuXG4gICAgZW5lbXlCb2FyZC5yZW1vdmUoKTtcbiAgICBwbGF5ZXJCb2FyZC5yZW1vdmUoKTtcbiAgICBlU2hpcENvbnRhaW5lci5yZW1vdmUoKTtcbiAgICBzaGlwQ29udGFpbmVyLnJlbW92ZSgpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IERvbTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/modules/dom.js\n");

/***/ }),

/***/ "./src/modules/game.js":
/*!*****************************!*\
  !*** ./src/modules/game.js ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _player_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./player.js */ \"./src/modules/player.js\");\n/* harmony import */ var _ship_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ship.js */ \"./src/modules/ship.js\");\n/* harmony import */ var _gameboard_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./gameboard.js */ \"./src/modules/gameboard.js\");\n\n\n\n\nclass Game {\n  constructor(player, enemy, boardSize) {\n    this.player = new _player_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](player, boardSize);\n    this.enemy = new _player_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](enemy, boardSize);\n    this.enemyFleet = this.createFleetEnemyFleet();\n    this.playerFleet = this.createFleetPlayerFleet();\n  }\n\n  createFleetPlayerFleet() {\n    const fleet = [\n      new _ship_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](\"carrier\", 5),\n      new _ship_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](\"battleship\", 4),\n      new _ship_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](\"cruiser\", 3),\n      new _ship_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](\"submarine\", 3),\n      new _ship_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](\"destroyer\", 2),\n    ];\n\n    return fleet;\n  }\n\n  createFleetEnemyFleet() {\n    const fleet = [\n      new _ship_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](\"carrier\", 5),\n      new _ship_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](\"battleship\", 4),\n      new _ship_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](\"cruiser\", 3),\n      new _ship_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](\"submarine\", 3),\n      new _ship_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](\"destroyer\", 2),\n    ];\n\n    return fleet;\n  }\n\n  checkGameOver() {\n    if (this.enemyFleet.every((ship) => ship.destroyed)) {\n      return \"enemyGameOver\";\n    } else if (this.playerFleet.every((ship) => ship.destroyed)) {\n      return \"playerGameOver\";\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Game);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbW9kdWxlcy9nYW1lLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBaUM7QUFDSjtBQUNVOztBQUV2QztBQUNBO0FBQ0Esc0JBQXNCLGtEQUFNO0FBQzVCLHFCQUFxQixrREFBTTtBQUMzQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFVBQVUsZ0RBQUk7QUFDZCxVQUFVLGdEQUFJO0FBQ2QsVUFBVSxnREFBSTtBQUNkLFVBQVUsZ0RBQUk7QUFDZCxVQUFVLGdEQUFJO0FBQ2Q7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsVUFBVSxnREFBSTtBQUNkLFVBQVUsZ0RBQUk7QUFDZCxVQUFVLGdEQUFJO0FBQ2QsVUFBVSxnREFBSTtBQUNkLFVBQVUsZ0RBQUk7QUFDZDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxpRUFBZSxJQUFJLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9iYXR0bGVzaGlwLS0tdG9wLy4vc3JjL21vZHVsZXMvZ2FtZS5qcz85ZDBiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBQbGF5ZXIgZnJvbSBcIi4vcGxheWVyLmpzXCI7XG5pbXBvcnQgU2hpcCBmcm9tIFwiLi9zaGlwLmpzXCI7XG5pbXBvcnQgR2FtZWJvYXJkIGZyb20gXCIuL2dhbWVib2FyZC5qc1wiO1xuXG5jbGFzcyBHYW1lIHtcbiAgY29uc3RydWN0b3IocGxheWVyLCBlbmVteSwgYm9hcmRTaXplKSB7XG4gICAgdGhpcy5wbGF5ZXIgPSBuZXcgUGxheWVyKHBsYXllciwgYm9hcmRTaXplKTtcbiAgICB0aGlzLmVuZW15ID0gbmV3IFBsYXllcihlbmVteSwgYm9hcmRTaXplKTtcbiAgICB0aGlzLmVuZW15RmxlZXQgPSB0aGlzLmNyZWF0ZUZsZWV0RW5lbXlGbGVldCgpO1xuICAgIHRoaXMucGxheWVyRmxlZXQgPSB0aGlzLmNyZWF0ZUZsZWV0UGxheWVyRmxlZXQoKTtcbiAgfVxuXG4gIGNyZWF0ZUZsZWV0UGxheWVyRmxlZXQoKSB7XG4gICAgY29uc3QgZmxlZXQgPSBbXG4gICAgICBuZXcgU2hpcChcImNhcnJpZXJcIiwgNSksXG4gICAgICBuZXcgU2hpcChcImJhdHRsZXNoaXBcIiwgNCksXG4gICAgICBuZXcgU2hpcChcImNydWlzZXJcIiwgMyksXG4gICAgICBuZXcgU2hpcChcInN1Ym1hcmluZVwiLCAzKSxcbiAgICAgIG5ldyBTaGlwKFwiZGVzdHJveWVyXCIsIDIpLFxuICAgIF07XG5cbiAgICByZXR1cm4gZmxlZXQ7XG4gIH1cblxuICBjcmVhdGVGbGVldEVuZW15RmxlZXQoKSB7XG4gICAgY29uc3QgZmxlZXQgPSBbXG4gICAgICBuZXcgU2hpcChcImNhcnJpZXJcIiwgNSksXG4gICAgICBuZXcgU2hpcChcImJhdHRsZXNoaXBcIiwgNCksXG4gICAgICBuZXcgU2hpcChcImNydWlzZXJcIiwgMyksXG4gICAgICBuZXcgU2hpcChcInN1Ym1hcmluZVwiLCAzKSxcbiAgICAgIG5ldyBTaGlwKFwiZGVzdHJveWVyXCIsIDIpLFxuICAgIF07XG5cbiAgICByZXR1cm4gZmxlZXQ7XG4gIH1cblxuICBjaGVja0dhbWVPdmVyKCkge1xuICAgIGlmICh0aGlzLmVuZW15RmxlZXQuZXZlcnkoKHNoaXApID0+IHNoaXAuZGVzdHJveWVkKSkge1xuICAgICAgcmV0dXJuIFwiZW5lbXlHYW1lT3ZlclwiO1xuICAgIH0gZWxzZSBpZiAodGhpcy5wbGF5ZXJGbGVldC5ldmVyeSgoc2hpcCkgPT4gc2hpcC5kZXN0cm95ZWQpKSB7XG4gICAgICByZXR1cm4gXCJwbGF5ZXJHYW1lT3ZlclwiO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBHYW1lO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/modules/game.js\n");

/***/ }),

/***/ "./src/modules/gameboard.js":
/*!**********************************!*\
  !*** ./src/modules/gameboard.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _ship_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ship.js */ \"./src/modules/ship.js\");\n/* harmony import */ var _dom_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./dom.js */ \"./src/modules/dom.js\");\n/* harmony import */ var _sfx_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./sfx.js */ \"./src/modules/sfx.js\");\n\n\n\n\nclass Gameboard {\n  constructor(size) {\n    this.size = size;\n    this.gameBoard = [];\n    this.buildBoard = this.buildBoard();\n    this.gameOver = false;\n    this.AudioPlayer = new _sfx_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n  }\n\n  buildBoard() {\n    for (let i = 0; i < this.size; i++) {\n      let row = [];\n      for (let j = 0; j < this.size; j++) {\n        row.push({\n          ship: false,\n          hasBeenShot: false,\n          element: null,\n        });\n      }\n      this.gameBoard.push(row);\n    }\n  }\n\n  placeShip(ship, row, column, direction) {\n    if (direction === \"Horizontal\") {\n      if (column + ship.length > this.size) {\n        return false;\n      }\n\n      for (let i = 0; i < ship.length; i++) {\n        if (this.gameBoard[row][column + i].ship) {\n          return false;\n        }\n      }\n\n      for (let i = 0; i < ship.length; i++) {\n        this.gameBoard[row][column + i].ship = ship;\n        ship.position.push({ row: row, column: column + i, hit: false });\n      }\n      ship.start.push(ship.position[0]);\n      ship.end.push(ship.position[ship.position.length - 1]);\n      ship.direction = \"Horizontal\";\n    } else if (direction === \"Vertical\") {\n      if (row + ship.length > this.size) {\n        return false;\n      }\n\n      for (let i = 0; i < ship.length; i++) {\n        if (this.gameBoard[row + i][column].ship) {\n          return false;\n        }\n      }\n\n      for (let i = 0; i < ship.length; i++) {\n        this.gameBoard[row + i][column].ship = ship;\n        ship.position.push({ row: row + i, column: column, hit: false });\n      }\n      ship.start.push(ship.position[0]);\n      ship.end.push(ship.position[ship.position.length - 1]);\n      ship.direction = \"Vertical\";\n    }\n    return true;\n  }\n\n  placeShipRandom(fleet) {\n    let shipFleet = Array.from(fleet);\n    shipFleet.forEach((ship) => {\n      let placed = false;\n      while (!placed) {\n        let directions = [\"Vertical\", \"Horizontal\"];\n        let row = Math.floor(Math.random() * 10);\n        let column = Math.floor(Math.random() * 10);\n        let directionChoice = directions[Math.floor(Math.random() * 2)];\n        placed = this.placeShip(ship, row, column, directionChoice);\n      }\n    });\n  }\n\n  receiveAttack(column, row) {\n    let cell = this.gameBoard[row][column];\n\n    if (cell.hasBeenShot) {\n      return \"has been shot\";\n    }\n\n    cell.hasBeenShot = true;\n\n    if (cell.ship && !cell.ship.isSunk()) {\n      this.AudioPlayer.playAttackHit();\n      let rowNum = parseInt(row);\n      let columnNum = parseInt(column);\n\n      const index = cell.ship.position.findIndex(\n        (pos) => pos.row === rowNum && pos.column === columnNum\n      );\n\n      cell.ship.hit(index);\n\n      if (cell.ship.isSunk()) {\n        this.AudioPlayer.shipSunkSound();\n        return true;\n      }\n      return true;\n    } else {\n      this.AudioPlayer.waterSplashSound();\n      return \"nope\";\n    }\n  }\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Gameboard);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbW9kdWxlcy9nYW1lYm9hcmQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUE2QjtBQUNGO0FBQ1E7O0FBRW5DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQiwrQ0FBVztBQUN0Qzs7QUFFQTtBQUNBLG9CQUFvQixlQUFlO0FBQ25DO0FBQ0Esc0JBQXNCLGVBQWU7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxzQkFBc0IsaUJBQWlCO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHNCQUFzQixpQkFBaUI7QUFDdkM7QUFDQSw2QkFBNkIsMENBQTBDO0FBQ3ZFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTs7QUFFQSxzQkFBc0IsaUJBQWlCO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHNCQUFzQixpQkFBaUI7QUFDdkM7QUFDQSw2QkFBNkIsMENBQTBDO0FBQ3ZFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlFQUFlLFNBQVMsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2JhdHRsZXNoaXAtLS10b3AvLi9zcmMvbW9kdWxlcy9nYW1lYm9hcmQuanM/NjFkZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgU2hpcCBmcm9tIFwiLi9zaGlwLmpzXCI7XG5pbXBvcnQgRG9tIGZyb20gXCIuL2RvbS5qc1wiO1xuaW1wb3J0IEF1ZGlvUGxheWVyIGZyb20gXCIuL3NmeC5qc1wiO1xuXG5jbGFzcyBHYW1lYm9hcmQge1xuICBjb25zdHJ1Y3RvcihzaXplKSB7XG4gICAgdGhpcy5zaXplID0gc2l6ZTtcbiAgICB0aGlzLmdhbWVCb2FyZCA9IFtdO1xuICAgIHRoaXMuYnVpbGRCb2FyZCA9IHRoaXMuYnVpbGRCb2FyZCgpO1xuICAgIHRoaXMuZ2FtZU92ZXIgPSBmYWxzZTtcbiAgICB0aGlzLkF1ZGlvUGxheWVyID0gbmV3IEF1ZGlvUGxheWVyKCk7XG4gIH1cblxuICBidWlsZEJvYXJkKCkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5zaXplOyBpKyspIHtcbiAgICAgIGxldCByb3cgPSBbXTtcbiAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgdGhpcy5zaXplOyBqKyspIHtcbiAgICAgICAgcm93LnB1c2goe1xuICAgICAgICAgIHNoaXA6IGZhbHNlLFxuICAgICAgICAgIGhhc0JlZW5TaG90OiBmYWxzZSxcbiAgICAgICAgICBlbGVtZW50OiBudWxsLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHRoaXMuZ2FtZUJvYXJkLnB1c2gocm93KTtcbiAgICB9XG4gIH1cblxuICBwbGFjZVNoaXAoc2hpcCwgcm93LCBjb2x1bW4sIGRpcmVjdGlvbikge1xuICAgIGlmIChkaXJlY3Rpb24gPT09IFwiSG9yaXpvbnRhbFwiKSB7XG4gICAgICBpZiAoY29sdW1uICsgc2hpcC5sZW5ndGggPiB0aGlzLnNpemUpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNoaXAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKHRoaXMuZ2FtZUJvYXJkW3Jvd11bY29sdW1uICsgaV0uc2hpcCkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNoaXAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdGhpcy5nYW1lQm9hcmRbcm93XVtjb2x1bW4gKyBpXS5zaGlwID0gc2hpcDtcbiAgICAgICAgc2hpcC5wb3NpdGlvbi5wdXNoKHsgcm93OiByb3csIGNvbHVtbjogY29sdW1uICsgaSwgaGl0OiBmYWxzZSB9KTtcbiAgICAgIH1cbiAgICAgIHNoaXAuc3RhcnQucHVzaChzaGlwLnBvc2l0aW9uWzBdKTtcbiAgICAgIHNoaXAuZW5kLnB1c2goc2hpcC5wb3NpdGlvbltzaGlwLnBvc2l0aW9uLmxlbmd0aCAtIDFdKTtcbiAgICAgIHNoaXAuZGlyZWN0aW9uID0gXCJIb3Jpem9udGFsXCI7XG4gICAgfSBlbHNlIGlmIChkaXJlY3Rpb24gPT09IFwiVmVydGljYWxcIikge1xuICAgICAgaWYgKHJvdyArIHNoaXAubGVuZ3RoID4gdGhpcy5zaXplKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaGlwLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmICh0aGlzLmdhbWVCb2FyZFtyb3cgKyBpXVtjb2x1bW5dLnNoaXApIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaGlwLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHRoaXMuZ2FtZUJvYXJkW3JvdyArIGldW2NvbHVtbl0uc2hpcCA9IHNoaXA7XG4gICAgICAgIHNoaXAucG9zaXRpb24ucHVzaCh7IHJvdzogcm93ICsgaSwgY29sdW1uOiBjb2x1bW4sIGhpdDogZmFsc2UgfSk7XG4gICAgICB9XG4gICAgICBzaGlwLnN0YXJ0LnB1c2goc2hpcC5wb3NpdGlvblswXSk7XG4gICAgICBzaGlwLmVuZC5wdXNoKHNoaXAucG9zaXRpb25bc2hpcC5wb3NpdGlvbi5sZW5ndGggLSAxXSk7XG4gICAgICBzaGlwLmRpcmVjdGlvbiA9IFwiVmVydGljYWxcIjtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBwbGFjZVNoaXBSYW5kb20oZmxlZXQpIHtcbiAgICBsZXQgc2hpcEZsZWV0ID0gQXJyYXkuZnJvbShmbGVldCk7XG4gICAgc2hpcEZsZWV0LmZvckVhY2goKHNoaXApID0+IHtcbiAgICAgIGxldCBwbGFjZWQgPSBmYWxzZTtcbiAgICAgIHdoaWxlICghcGxhY2VkKSB7XG4gICAgICAgIGxldCBkaXJlY3Rpb25zID0gW1wiVmVydGljYWxcIiwgXCJIb3Jpem9udGFsXCJdO1xuICAgICAgICBsZXQgcm93ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTApO1xuICAgICAgICBsZXQgY29sdW1uID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTApO1xuICAgICAgICBsZXQgZGlyZWN0aW9uQ2hvaWNlID0gZGlyZWN0aW9uc1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAyKV07XG4gICAgICAgIHBsYWNlZCA9IHRoaXMucGxhY2VTaGlwKHNoaXAsIHJvdywgY29sdW1uLCBkaXJlY3Rpb25DaG9pY2UpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgcmVjZWl2ZUF0dGFjayhjb2x1bW4sIHJvdykge1xuICAgIGxldCBjZWxsID0gdGhpcy5nYW1lQm9hcmRbcm93XVtjb2x1bW5dO1xuXG4gICAgaWYgKGNlbGwuaGFzQmVlblNob3QpIHtcbiAgICAgIHJldHVybiBcImhhcyBiZWVuIHNob3RcIjtcbiAgICB9XG5cbiAgICBjZWxsLmhhc0JlZW5TaG90ID0gdHJ1ZTtcblxuICAgIGlmIChjZWxsLnNoaXAgJiYgIWNlbGwuc2hpcC5pc1N1bmsoKSkge1xuICAgICAgdGhpcy5BdWRpb1BsYXllci5wbGF5QXR0YWNrSGl0KCk7XG4gICAgICBsZXQgcm93TnVtID0gcGFyc2VJbnQocm93KTtcbiAgICAgIGxldCBjb2x1bW5OdW0gPSBwYXJzZUludChjb2x1bW4pO1xuXG4gICAgICBjb25zdCBpbmRleCA9IGNlbGwuc2hpcC5wb3NpdGlvbi5maW5kSW5kZXgoXG4gICAgICAgIChwb3MpID0+IHBvcy5yb3cgPT09IHJvd051bSAmJiBwb3MuY29sdW1uID09PSBjb2x1bW5OdW1cbiAgICAgICk7XG5cbiAgICAgIGNlbGwuc2hpcC5oaXQoaW5kZXgpO1xuXG4gICAgICBpZiAoY2VsbC5zaGlwLmlzU3VuaygpKSB7XG4gICAgICAgIHRoaXMuQXVkaW9QbGF5ZXIuc2hpcFN1bmtTb3VuZCgpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLkF1ZGlvUGxheWVyLndhdGVyU3BsYXNoU291bmQoKTtcbiAgICAgIHJldHVybiBcIm5vcGVcIjtcbiAgICB9XG4gIH1cbn1cbmV4cG9ydCBkZWZhdWx0IEdhbWVib2FyZDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/modules/gameboard.js\n");

/***/ }),

/***/ "./src/modules/player.js":
/*!*******************************!*\
  !*** ./src/modules/player.js ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _gameboard_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./gameboard.js */ \"./src/modules/gameboard.js\");\n/* harmony import */ var _game_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./game.js */ \"./src/modules/game.js\");\n\n\n\nclass Player {\n  constructor(name, boardSize) {\n    this.name = name;\n    this.gameboard = new _gameboard_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](boardSize);\n  }\n\n  attack(enemy, row, column) {\n    return enemy.gameboard.receiveAttack(row, column);\n  }\n\n  attackRandom(enemy) {\n    let row = this.generateRandomNumber();\n    let column = this.generateRandomNumber();\n\n    while (enemy.gameboard.gameBoard[row][column].hasBeenShot) {\n      row = this.generateRandomNumber();\n      column = this.generateRandomNumber();\n    }\n    return enemy.gameboard.receiveAttack(column, row);\n  }\n\n  generateRandomNumber() {\n    return Math.floor(Math.random() * 10);\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Player);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbW9kdWxlcy9wbGF5ZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQXVDO0FBQ1Y7O0FBRTdCO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QixxREFBUztBQUNsQzs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxpRUFBZSxNQUFNLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9iYXR0bGVzaGlwLS0tdG9wLy4vc3JjL21vZHVsZXMvcGxheWVyLmpzPzZlNDIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEdhbWVib2FyZCBmcm9tIFwiLi9nYW1lYm9hcmQuanNcIjtcbmltcG9ydCBHYW1lIGZyb20gXCIuL2dhbWUuanNcIjtcblxuY2xhc3MgUGxheWVyIHtcbiAgY29uc3RydWN0b3IobmFtZSwgYm9hcmRTaXplKSB7XG4gICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICB0aGlzLmdhbWVib2FyZCA9IG5ldyBHYW1lYm9hcmQoYm9hcmRTaXplKTtcbiAgfVxuXG4gIGF0dGFjayhlbmVteSwgcm93LCBjb2x1bW4pIHtcbiAgICByZXR1cm4gZW5lbXkuZ2FtZWJvYXJkLnJlY2VpdmVBdHRhY2socm93LCBjb2x1bW4pO1xuICB9XG5cbiAgYXR0YWNrUmFuZG9tKGVuZW15KSB7XG4gICAgbGV0IHJvdyA9IHRoaXMuZ2VuZXJhdGVSYW5kb21OdW1iZXIoKTtcbiAgICBsZXQgY29sdW1uID0gdGhpcy5nZW5lcmF0ZVJhbmRvbU51bWJlcigpO1xuXG4gICAgd2hpbGUgKGVuZW15LmdhbWVib2FyZC5nYW1lQm9hcmRbcm93XVtjb2x1bW5dLmhhc0JlZW5TaG90KSB7XG4gICAgICByb3cgPSB0aGlzLmdlbmVyYXRlUmFuZG9tTnVtYmVyKCk7XG4gICAgICBjb2x1bW4gPSB0aGlzLmdlbmVyYXRlUmFuZG9tTnVtYmVyKCk7XG4gICAgfVxuICAgIHJldHVybiBlbmVteS5nYW1lYm9hcmQucmVjZWl2ZUF0dGFjayhjb2x1bW4sIHJvdyk7XG4gIH1cblxuICBnZW5lcmF0ZVJhbmRvbU51bWJlcigpIHtcbiAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTApO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFBsYXllcjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/modules/player.js\n");

/***/ }),

/***/ "./src/modules/sfx.js":
/*!****************************!*\
  !*** ./src/modules/sfx.js ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nclass AudioPlayer {\n  playAttackStart() {\n    let audio = new Audio(\"../src/assets/attack-start.wav\");\n    audio.play();\n    setTimeout(() => {\n      audio.pause();\n    }, 1800);\n  }\n\n  playAttackHit() {\n    let audio = new Audio(\"../src/assets/attack-hit.wav\");\n    audio.play();\n    setTimeout(() => {\n      audio.pause();\n    }, 2000);\n  }\n\n  placeShipSound() {\n    let audio = new Audio(\"../src/assets/ship-horn.wav\");\n    audio.play();\n    audio.playbackRate = 1.7;\n    setTimeout(() => {\n      audio.pause();\n    }, 2000);\n  }\n\n  waterSplashSound() {\n    let audio = new Audio(\"../src/assets/water-splash.wav\");\n    audio.play();\n    setTimeout(() => {\n      audio.pause();\n    }, 2000);\n  }\n\n  shipSunkSound() {\n    let audio = new Audio(\"../src/assets/ship-sunk.mp3\");\n    audio.play();\n  }\n\n  startingGameSound() {\n    let audio = new Audio(\"../src/assets/starting-game.mp3\");\n    audio.play();\n    setTimeout(() => {\n      audio.pause();\n    }, 6000);\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AudioPlayer);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbW9kdWxlcy9zZnguanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQSxpRUFBZSxXQUFXLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9iYXR0bGVzaGlwLS0tdG9wLy4vc3JjL21vZHVsZXMvc2Z4LmpzPzY5MGIiXSwic291cmNlc0NvbnRlbnQiOlsiY2xhc3MgQXVkaW9QbGF5ZXIge1xuICBwbGF5QXR0YWNrU3RhcnQoKSB7XG4gICAgbGV0IGF1ZGlvID0gbmV3IEF1ZGlvKFwiLi4vc3JjL2Fzc2V0cy9hdHRhY2stc3RhcnQud2F2XCIpO1xuICAgIGF1ZGlvLnBsYXkoKTtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGF1ZGlvLnBhdXNlKCk7XG4gICAgfSwgMTgwMCk7XG4gIH1cblxuICBwbGF5QXR0YWNrSGl0KCkge1xuICAgIGxldCBhdWRpbyA9IG5ldyBBdWRpbyhcIi4uL3NyYy9hc3NldHMvYXR0YWNrLWhpdC53YXZcIik7XG4gICAgYXVkaW8ucGxheSgpO1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgYXVkaW8ucGF1c2UoKTtcbiAgICB9LCAyMDAwKTtcbiAgfVxuXG4gIHBsYWNlU2hpcFNvdW5kKCkge1xuICAgIGxldCBhdWRpbyA9IG5ldyBBdWRpbyhcIi4uL3NyYy9hc3NldHMvc2hpcC1ob3JuLndhdlwiKTtcbiAgICBhdWRpby5wbGF5KCk7XG4gICAgYXVkaW8ucGxheWJhY2tSYXRlID0gMS43O1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgYXVkaW8ucGF1c2UoKTtcbiAgICB9LCAyMDAwKTtcbiAgfVxuXG4gIHdhdGVyU3BsYXNoU291bmQoKSB7XG4gICAgbGV0IGF1ZGlvID0gbmV3IEF1ZGlvKFwiLi4vc3JjL2Fzc2V0cy93YXRlci1zcGxhc2gud2F2XCIpO1xuICAgIGF1ZGlvLnBsYXkoKTtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGF1ZGlvLnBhdXNlKCk7XG4gICAgfSwgMjAwMCk7XG4gIH1cblxuICBzaGlwU3Vua1NvdW5kKCkge1xuICAgIGxldCBhdWRpbyA9IG5ldyBBdWRpbyhcIi4uL3NyYy9hc3NldHMvc2hpcC1zdW5rLm1wM1wiKTtcbiAgICBhdWRpby5wbGF5KCk7XG4gIH1cblxuICBzdGFydGluZ0dhbWVTb3VuZCgpIHtcbiAgICBsZXQgYXVkaW8gPSBuZXcgQXVkaW8oXCIuLi9zcmMvYXNzZXRzL3N0YXJ0aW5nLWdhbWUubXAzXCIpO1xuICAgIGF1ZGlvLnBsYXkoKTtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGF1ZGlvLnBhdXNlKCk7XG4gICAgfSwgNjAwMCk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQXVkaW9QbGF5ZXI7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/modules/sfx.js\n");

/***/ }),

/***/ "./src/modules/ship.js":
/*!*****************************!*\
  !*** ./src/modules/ship.js ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nclass Ship {\n  constructor(name, length) {\n    this.name = name;\n    this.length = length;\n    this.position = [];\n    this.destroyed = false;\n    this.start = [];\n    this.end = [];\n    this.direction = null;\n  }\n\n  hit(index) {\n    if (index >= 0 && index < this.length) {\n      this.position[index].hit = true;\n    }\n    this.isSunk();\n  }\n\n  isSunk() {\n    if (this.position.every((cell) => cell.hit)) {\n      this.destroyed = true;\n      return true;\n    }\n    return false;\n  }\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Ship);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbW9kdWxlcy9zaGlwLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlFQUFlLElBQUksRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2JhdHRsZXNoaXAtLS10b3AvLi9zcmMvbW9kdWxlcy9zaGlwLmpzPzFiZmYiXSwic291cmNlc0NvbnRlbnQiOlsiY2xhc3MgU2hpcCB7XG4gIGNvbnN0cnVjdG9yKG5hbWUsIGxlbmd0aCkge1xuICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgdGhpcy5sZW5ndGggPSBsZW5ndGg7XG4gICAgdGhpcy5wb3NpdGlvbiA9IFtdO1xuICAgIHRoaXMuZGVzdHJveWVkID0gZmFsc2U7XG4gICAgdGhpcy5zdGFydCA9IFtdO1xuICAgIHRoaXMuZW5kID0gW107XG4gICAgdGhpcy5kaXJlY3Rpb24gPSBudWxsO1xuICB9XG5cbiAgaGl0KGluZGV4KSB7XG4gICAgaWYgKGluZGV4ID49IDAgJiYgaW5kZXggPCB0aGlzLmxlbmd0aCkge1xuICAgICAgdGhpcy5wb3NpdGlvbltpbmRleF0uaGl0ID0gdHJ1ZTtcbiAgICB9XG4gICAgdGhpcy5pc1N1bmsoKTtcbiAgfVxuXG4gIGlzU3VuaygpIHtcbiAgICBpZiAodGhpcy5wb3NpdGlvbi5ldmVyeSgoY2VsbCkgPT4gY2VsbC5oaXQpKSB7XG4gICAgICB0aGlzLmRlc3Ryb3llZCA9IHRydWU7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5leHBvcnQgZGVmYXVsdCBTaGlwO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/modules/ship.js\n");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval-source-map devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./src/index.js");
/******/ 	
/******/ })()
;